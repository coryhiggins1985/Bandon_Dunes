<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bandon Dunes Golf Trip Summary</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f4f8;
            color: #333;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 1rem;
            background-color: #fff;
            border-radius: 0.75rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            position: relative; /* Added for logo positioning */
        }
        #trip-logo {
            position: absolute;
            top: 2rem;
            right: 2rem;
            width: 120px;
            height: auto;
        }
        .card {
            background-color: #fff;
            border-radius: 0.75rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            padding: 1.5rem;
            margin-bottom: 1.5rem;
        }
        .table-auto {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.875rem;
        }
        .table-fixed {
            table-layout: fixed;
        }
        .table-auto th, .table-auto td, .table-fixed th, .table-fixed td {
            padding: 0.75rem;
            border-bottom: 1px solid #e2e8f0;
            text-align: left;
        }
        .table-auto th, .table-fixed th {
            background-color: #f8fafc;
            font-weight: 600;
            color: #4a5568;
            text-transform: uppercase;
            font-size: 0.875rem;
        }
        .table-auto tr:last-child td, .table-fixed tr:last-child td {
            border-bottom: none;
        }
        .table-auto tbody tr:hover, .table-fixed tbody tr:hover {
            background-color: #f0f4f8;
        }
        h1 {
            font-size: 2.25rem;
            margin-bottom: 1.5rem;
        }
        h2 {
            font-size: 1.5rem;
            margin-bottom: 1rem;
        }
        h3 {
            font-size: 1.25rem;
            margin-bottom: 1rem;
        }
        .flex-col.md\:flex-row {
            flex-direction: column;
        }
        @media (min-width: 768px) {
            .flex-col.md\:flex-row {
                flex-direction: row;
            }
            .flex-1.md\:w-1\/2 {
                width: 50%;
            }
        }
        .player-handicap-row td {
            background-color: #e0f2fe;
        }
        .highlight-player {
            background-color: #fef08a;
            padding: 0 0.25rem;
            border-radius: 0.25rem;
        }
        .spacing-row td {
            height: 1rem;
            border-bottom: none;
        }
        .last-tee-time-of-day td {
            border-bottom: 2px solid #a0a0a0;
        }
        .tab-button {
            padding: 0.75rem 1.5rem;
            border-bottom: 2px solid transparent;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease-in-out;
        }
        .tab-button.active {
            border-color: #10b981;
            color: #10b981;
        }
        .tab-button:hover {
            color: #059669;
        }
        .tab-content {
            display: none;
        }
        .tab-content.active {
            display: block;
        }
        .caddy-player-highlight {
            background-color: #d1fae5;
        }
        .team-header {
            background-color: #6ee7b7;
            font-size: 1.125rem;
            font-weight: 700;
        }
        .caddy-summary-separator {
            border-bottom: 2px solid #a0a0a0;
        }
        .winning-team-highlight {
            background-color: #86efac;
            font-weight: bold;
        }
        .daily-flow-table td {
            padding: 0.25rem 0.5rem;
            font-size: 0.75rem;
        }
        .daily-flow-table th {
            padding: 0.25rem 0.5rem;
            font-size: 0.75rem;
        }
    </style>
</head>
<body class="p-4 bg-gray-100 min-h-screen flex items-center justify-center">
    <div class="container bg-white rounded-xl shadow-lg p-6 md:p-8 lg:p-10">
        <img id="trip-logo" src="https://raw.githubusercontent.com/coryhiggins1985/Bandon_Dunes/main/logo.png" alt="Trip Logo" />
        <h1 class="text-3xl md:text-4xl font-bold text-green-800 mb-8 text-left" id="main-trip-summary-title">Bandon Dunes Golf Trip Summary</h1>

        <div class="flex border-b border-gray-200 mb-6 flex-wrap">
            <button id="tab-summary" class="tab-button active">Trip Summary</button>
            <button id="tab-caddy" class="tab-button">Caddy Summary</button>
            <button id="tab-caddy-by-tee-time" class="tab-button">Caddy Summary by Tee Time</button>
            <button id="tab-daily-flow" class="tab-button">Daily Flow</button>
            <button id="tab-scoring" class="tab-button">Daily Scoring</button>
            <button id="tab-group-info" class="tab-button">Group Information</button>
        </div>

        <div id="content-summary" class="tab-content active">
            <div class="card mb-6">
                <div class="mb-4 player-select-section w-full md:w-1\/2">
                    <label for="player-select" class="block text-lg font-medium text-red-600 mb-2">Select Player:</label>
                    <select id="player-select" class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm rounded-md">
                        </select>
                </div>
            </div>

            <div class="flex flex-col md:flex-row gap-6 mb-6">
                <div class="card flex-1 md:w-1\/2">
                    <h2 class="text-2xl font-semibold text-gray-800 mb-4">Stableford Points System</h2>
                    <table class="table-auto" id="stableford-table">
                        <thead>
                            <tr>
                                <th class="px-4 py-2">Score Relative to Par</th>
                                <th class="px-4 py-2">Points</th>
                                <th class="px-4 py-2">Score Relative to Par</th>
                                <th class="px-4 py-2">Points</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="border px-4 py-2">Double Eagle (Par 4 or 5)</td>
                                <td class="border px-4 py-2">20</td>
                                <td class="border px-4 py-2">Par</td>
                                <td class="border px-4 py-2">3</td>
                            </tr>
                            <tr>
                                <td class="border px-4 py-2">Hole-in-One</td>
                                <td class="border px-4 py-2">15</td>
                                <td class="border px-4 py-2">Bogey</td>
                                <td class="border px-4 py-2">2</td>
                            </tr>
                            <tr>
                                <td class="border px-4 py-2">Eagle</td>
                                <td class="border px-4 py-2">10</td>
                                <td class="border px-4 py-2">Double Bogey</td>
                                <td class="border px-4 py-2">1</td>
                            </tr>
                            <tr>
                                <td class="border px-4 py-2">Birdie</td>
                                <td class="border px-4 py-2">5</td>
                                <td class="border px-4 py-2">DNF/Triple +</td>
                                <td class="border px-4 py-2">0</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="card flex-1 md:w-1\/2">
                    <h2 class="text-2xl font-semibold text-gray-800 mb-4">Notes</h2>
                    <table class="table-auto">
                        <thead>
                            <tr>
                                <th class="px-4 py-2">Note</th>
                            </tr>
                        </thead>
                        <tbody id="notes-table-body">
                            </tbody>
                    </table>
                </div>
            </div>

            <div class="card mt-6">
                <h2 class="text-2xl font-semibold text-gray-800 mb-4">Daily Group Gambling</h2>
                <table class="table-auto">
                    <thead>
                        <tr>
                            <th class="px-4 py-2">Item</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="border px-4 py-2">$50 / daily group bet for AM rounds only, afternoon rounds choose your own adventure.</td>
                        </tr>
                        <tr>
                            <td class="border px-4 py-2">There will be four (4), six (6) man teams. $160 payout per person on the winning team ($960 pot divided by 6).</td>
                        </tr>
                        <tr>
                            <td class="border px-4 py-2">Gimmies are okay but don't swipe a 5 foot putt and call it yourself, let the group decide.</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="card">
                <h2 class="text-2xl font-semibold text-gray-800 mb-4">Tee Time Pairings</h2>
                <div id="tee-time-pairings-container" class="overflow-x-auto">
                    <h3 class="text-xl font-semibold text-gray-800 mb-4" id="current-player-tee-times-title"></h3>
                    <table class="table-auto">
                        <thead>
                            <tr>
                                <th class="px-4 py-2">Date</th>
                                <th class="px-4 py-2">Time</th>
                                <th class="px-4 py-2">Estimated Completion Time</th>
                                <th class="px-4 py-2">Course</th>
                                <th class="px-4 py-2">Caddie</th>
                                <th class="px-4 py-2">Playing Partners (Handicap)</th>
                            </tr>
                        </thead>
                        <tbody id="tee-time-pairings-body">
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="card mt-6">
                <h2 class="text-2xl font-semibold text-gray-800 mb-4">Daily Pairings</h2>
                <div id="daily-pairings-container" class="overflow-x-auto">
                    <table class="table-auto">
                        <thead>
                            <tr>
                                <th class="px-4 py-2">Date</th>
                                <th class="px-4 py-2">Time</th>
                                <th class="px-4 py-2">Estimated Completion Time</th>
                                <th class="px-4 py-2">Course</th>
                                <th class="px-4 py-2">All Players (Handicap)</th>
                            </tr>
                        </thead>
                        <tbody id="daily-pairings-body">
                            </tbody>
                    </table>
                </div>
            </div>
        </div>

        <div id="content-caddy" class="tab-content">
            <div class="card mt-6">
                <h2 class="text-2xl font-semibold text-gray-800 mb-4">Caddy Summary by Player and Round</h2>
                <div id="caddy-summary-container" class="overflow-x-auto">
                    <table class="table-auto">
                        <thead>
                            <tr id="caddy-summary-header-row">
                                <th class="px-4 py-2">Player</th>
                                </tr>
                        </thead>
                        <tbody id="caddy-summary-body">
                            </tbody>
                    </table>
                </div>
            </div>
        </div>

        <div id="content-caddy-by-tee-time" class="tab-content">
            <div class="card mt-6">
                <h2 class="text-2xl font-semibold text-gray-800 mb-4">Caddy Summary by Tee Time</h2>
                <div id="caddy-tee-time-summary-container" class="overflow-x-auto">
                    <table class="table-auto">
                        <thead>
                            <tr>
                                <th class="px-4 py-2">Date</th>
                                <th class="px-4 py-2">Time</th>
                                <th class="px-4 py-2">Course</th>
                                <th class="px-4 py-2">Players & Caddies</th>
                                <th class="px-4 py-2">Caddy Summary</th>
                            </tr>
                        </thead>
                        <tbody id="caddy-tee-time-summary-body">
                            </tbody>
                    </table>
                </div>
            </div>
        </div>

        <div id="content-daily-flow" class="tab-content">
            <div class="card mt-6">
                <h2 class="text-2xl font-semibold text-gray-800 mb-4">Daily Flow</h2>
                <div id="daily-flow-container" class="overflow-x-auto">
                    <table class="table-auto w-full daily-flow-table">
                        <thead id="daily-flow-header"></thead>
                        <tbody id="daily-flow-body"></tbody>
                    </table>
                </div>
            </div>
        </div>
        
        <div id="content-scoring" class="tab-content">
            <div class="card">
                <h2 class="text-2xl font-semibold text-gray-800 mb-4">Daily Team Scoring</h2>
                <div class="flex flex-wrap gap-4 mb-6">
                    <div class="flex-grow">
                        <label for="date-select" class="block text-lg font-medium text-gray-700 mb-2">Select Date:</label>
                        <select id="date-select" class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm rounded-md">
                            </select>
                    </div>
                </div>

                <div id="scoring-display-area">
                    </div>
            </div>
        </div>

        <div id="content-group-info" class="tab-content">
            <div class="card">
                <h2 class="text-2xl font-semibold text-gray-800 mb-4">Photo Album</h2>
                <p>
                    <a href="https://photos.app.goo.gl/ZQZbg5WcVMcjon8D7" target="_blank" class="text-blue-600 hover:underline">View Trip Photo Album</a>
                </p>
            </div>
             <div class="card">
                <h2 class="text-2xl font-semibold text-gray-800 mb-4">Shuttle Service</h2>
                <p>
                    <a href="https://www.trackmyshuttle.com/a/bandon" target="_blank" class="text-blue-600 hover:underline">Track Bandon Dunes Shuttle</a>
                </p>
            </div>
            <div class="card">
                <h2 class="text-2xl font-semibold text-gray-800 mb-4">Contact Information</h2>
                <div class="overflow-x-auto">
                    <table class="table-auto">
                        <thead>
                            <tr>
                                <th class="px-4 py-2">Player</th>
                                <th class="px-4 py-2">Phone Number</th>
                                <th class="px-4 py-2">Email</th>
                                <th class="px-4 py-2">Venmo</th>
                                <th class="px-4 py-2">Breakfast</th>
                                <th class="px-4 py-2">Lunch</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr><td>AD Hoffman</td><td>720-339-2022</td><td>ad.hoffman@gmail.com</td><td>@AD-Hoffman</td><td>No</td><td>No</td></tr>
                            <tr><td>Andrew Akers</td><td>503-888-9121</td><td>andrewakers@gmail.com</td><td>@Andrew-Akers</td><td>No</td><td>Yes</td></tr>
                            <tr><td>Bob Owlett</td><td>607-368-8383</td><td>rowlett@servuclean.com</td><td>@Bob-Owlett</td><td>No</td><td>No</td></tr>
                            <tr><td>Brandon Itaoka</td><td>206-321-4927</td><td>itaoka.brandon@gmail.com</td><td>@Brandon-Itaoka</td><td>No</td><td>Yes</td></tr>
                            <tr><td>Bryan Wolfe</td><td>303-346-4653</td><td>bwolfe@lument.com</td><td>@Bryan-Wolfe</td><td>No</td><td>No</td></tr>
                            <tr><td>Charlie Hildebrand</td><td>720-339-1443</td><td>childebrand@gmail.com</td><td>@Charlie-Hildebrand</td><td>Yes</td><td>Yes</td></tr>
                            <tr><td>Cory Higgins</td><td>425-442-9988</td><td>coryhiggins1985@gmail.com</td><td>@Cory-Higgins</td><td>No</td><td>Yes</td></tr>
                            <tr><td>Cory Micheel</td><td>206-399-5985</td><td>cmicheel@gmail.com</td><td>@Cory-Micheel</td><td>No</td><td>No</td></tr>
                            <tr><td>Daniel Passino</td><td>303-882-0161</td><td>passino.daniel@gmail.com</td><td>@Daniel-Passino</td><td>No</td><td>No</td></tr>
                            <tr><td>Hisham Sayeedi</td><td>303-882-0160</td><td>hishamsayeedi@gmail.com</td><td>@Hisham-Sayeedi</td><td>No</td><td>Yes</td></tr>
                            <tr><td>Jacob Emert</td><td>509-308-5455</td><td>jacob.emert@gmail.com</td><td>@Jacob-Emert</td><td>No</td><td>Yes</td></tr>
                            <tr><td>James Adolfson</td><td>612-801-1423</td><td>james.adolfson@gmail.com</td><td>@James-Adolfson</td><td>No</td><td>No</td></tr>
                            <tr><td>Johnathn Resetar</td><td>503-475-4763</td><td>johnathn.resetar@gmail.com</td><td>@Johnathn-Resetar</td><td>Yes</td><td>Yes</td></tr>
                            <tr><td>Kevan Oyama</td><td>808-281-2244</td><td>kevancoyama@gmail.com</td><td>@Kevan-Oyama</td><td>No</td><td>No</td></tr>
                            <tr><td>Kevin Newell</td><td>716-570-5895</td><td>kevin.newell@icloud.com</td><td>@Kevin-Newell</td><td>Yes</td><td>Yes</td></tr>
                            <tr><td>Matt Akers</td><td>503-888-9122</td><td>mattakers@gmail.com</td><td>@Matt-Akers</td><td>No</td><td>No</td></tr>
                            <tr><td>Mike Newell</td><td>716-432-8615</td><td>mnewell@newellrecycling.com</td><td>@Mike-Newell</td><td>No</td><td>Yes</td></tr>
                            <tr><td>Nick Zangardi</td><td>303-882-0162</td><td>nzangardi@gmail.com</td><td>@Nick-Zangardi</td><td>No</td><td>Yes</td></tr>
                            <tr><td>Paul Parker</td><td>503-475-4764</td><td>paulparker@gmail.com</td><td>@Paul-Parker</td><td>No</td><td>No</td></tr>
                            <tr><td>Rob Small</td><td>716-570-5896</td><td>robsmall@gmail.com</td><td>@Rob-Small</td><td>Yes</td><td>Yes</td></tr>
                            <tr><td>Ryan Hohn</td><td>206-399-5986</td><td>rhohn@gmail.com</td><td>@Ryan-Hohn</td><td>Yes</td><td>Yes</td></tr>
                            <tr><td>Vikas Bhasin</td><td>720-339-1444</td><td>vikas.bhasin@gmail.com</td><td>@Vikas-Bhasin</td><td>No</td><td>Yes</td></tr>
                            <tr><td>Will Quarles</td><td>612-801-1424</td><td>will.quarles@gmail.com</td><td>@Will-Quarles</td><td>No</td><td>No</td></tr>
                            <tr><td>Zach Deines</td><td>206-321-4928</td><td>zach.deines@gmail.com</td><td>@Zach-Deines</td><td>No</td><td>Yes</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

    </div>
    <script>
        // Raw CSV data for golf pairings - Corrected to match the latest official pairings file.
        const csvData = `Date,Time,Course,Player1,Player2,Player3,Player4,Player5,Notes,CompleteEstimate
2025-08-20,2:40 p.m.,Bandon Dunes,Cory Higgins,Kevin Newell,Mike Newell,Rob Small,,,2025-08-20 19:10:00
2025-08-20,2:50 p.m.,Bandon Dunes,Zach Deines,Johnathn Resetar,Ryan Hohn,Jacob Emert,,,2025-08-20 19:20:00
2025-08-20,3:00 p.m.,Bandon Dunes,Bryan Wolfe,Matt Akers,Paul Parker,Andrew Akers,,,2025-08-20 19:30:00
2025-08-20,3:10 p.m.,Bandon Dunes,Kevan Oyama,Bob Owlett,Nick Zangardi,James Adolfson,,,2025-08-20 19:40:00
2025-08-20,3:15 p.m.,Shorty's,TBD,TBD,TBD,TBD,,Bill to individuals,2025-08-20 17:15:00
2025-08-20,3:20 p.m.,Bandon Dunes,Vikas Bhasin,Daniel Passino,Charlie Hildebrand,Hisham Sayeedi,,,2025-08-20 19:50:00
2025-08-21,7:30 a.m.,Pacific Dunes,Vikas Bhasin,Charlie Hildebrand,Hisham Sayeedi,Daniel Passino,,,2025-08-21 12:00:00
2025-08-21,7:40 a.m.,Pacific Dunes,Cory Higgins,Matt Akers,Andrew Akers,James Adolfson,,,2025-08-21 12:10:00
2025-08-21,7:50 a.m.,Pacific Dunes,Bob Owlett,Kevin Newell,Mike Newell,Rob Small,,,2025-08-21 12:20:00
2025-08-21,8:00 a.m.,Pacific Dunes,Kevan Oyama,Zach Deines,Nick Zangardi,Johnathn Resetar,,,2025-08-21 12:30:00
2025-08-21,8:10 a.m.,Pacific Dunes,Brandon Itaoka,Ryan Hohn,Paul Parker,Jacob Emert,,,2025-08-21 12:40:00
2025-08-21,8:20 a.m.,Pacific Dunes,AD Hoffman,Bryan Wolfe,Will Quarles,Cory Micheel,,,2025-08-21 12:50:00
2025-08-21,1:00 p.m.,Bandon Dunes,Matt Akers,Andrew Akers,Brandon Itaoka,,,REPLAY,2025-08-21 18:00:00
2025-08-21,1:10 p.m.,Bandon Dunes,Charlie Hildebrand,Hisham Sayeedi,Daniel Passino,Vikas Bhasin,,REPLAY,2025-08-21 17:40:00
2025-08-21,1:20 p.m.,Bandon Dunes,Kevan Oyama,Cory Higgins,Jacob Emert,Mike Newell,,REPLAY,2025-08-21 17:50:00
2025-08-21,1:30 p.m.,Bandon Dunes,Zach Deines,Paul Parker,Johnathn Resetar,James Adolfson,,REPLAY,2025-08-21 18:00:00
2025-08-21,1:40 p.m.,Bandon Dunes,Cory Micheel,Bob Owlett,Will Quarles,AD Hoffman,,REPLAY,2025-08-21 18:10:00
2025-08-21,1:50 p.m.,Bandon Dunes,Ryan Hohn,Nick Zangardi,Bryan Wolfe,,,REPLAY,2025-08-21 18:20:00
2025-08-21,2:15 p.m.,Bandon Preserve,Kevin Newell,Rob Small,,,,Bill to individuals,2025-08-21 16:15:00
2025-08-21,6:00 p.m.,Bandon Preserve,TBD,TBD,TBD,,,Bill to individuals,2025-08-21 20:00:00
2025-08-22,7:30 a.m.,Bandon Trails,AD Hoffman,Bryan Wolfe,Bob Owlett,Cory Micheel,,,2025-08-22 12:00:00
2025-08-22,7:40 a.m.,Bandon Trails,Cory Higgins,Brandon Itaoka,Ryan Hohn,Paul Parker,,,2025-08-22 12:10:00
2025-08-22,7:50 a.m.,Bandon Trails,Mike Newell,Nick Zangardi,Kevin Newell,Rob Small,,,2025-08-22 12:20:00
2025-08-22,8:00 a.m.,Bandon Trails,Zach Deines,Johnathn Resetar,James Adolfson,Jacob Emert,,,2025-08-22 12:30:00
2025-08-22,8:10 a.m.,Bandon Trails,Vikas Bhasin,Daniel Passino,Hisham Sayeedi,Charlie Hildebrand,,,2025-08-22 12:40:00
2025-08-22,8:20 a.m.,Bandon Trails,Kevan Oyama,Matt Akers,Andrew Akers,Will Quarles,,,2025-08-22 12:50:00
2025-08-22,1:10 p.m.,Pacific Dunes,Cory Higgins,Vikas Bhasin,Cory Micheel,Mike Newell,,REPLAY,2025-08-22 17:40:00
2025-08-22,1:20 p.m.,Pacific Dunes,Bob Owlett,Nick Zangardi,Jacob Emert,Zach Deines,,REPLAY,2025-08-22 17:50:00
2025-08-22,1:30 p.m.,Pacific Dunes,James Adolfson,AD Hoffman,Bryan Wolfe,Will Quarles,,REPLAY,2025-08-22 18:00:00
2025-08-22,1:40 p.m.,Pacific Dunes,Kevan Oyama,Johnathn Resetar,,,REPLAY,2025-08-22 18:10:00
2025-08-22,1:50 p.m.,Pacific Dunes,TBD,TBD,TBD,TBD,,REPLAY,2025-08-22 18:50:00
2025-08-22,2:15 p.m.,Shorty's,TBD,TBD,TBD,TBD,,Bill to individuals,2025-08-22 16:15:00
2025-08-22,6:15 p.m.,Shorty's,TBD,TBD,TBD,TBD,,Bill to individuals,2025-08-22 20:15:00
2025-08-22,6:30 p.m.,Shorty's,TBD,TBD,TBD,TBD,,Bill to individuals,2025-08-22 20:30:00
2025-08-23,7:30 a.m.,Old Macdonald,Kevan Oyama,Mike Newell,Bob Owlett,Nick Zangardi,,,2025-08-23 12:00:00
2025-08-23,7:40 a.m.,Old Macdonald,Cory Higgins,Brandon Itaoka,Jacob Emert,Zach Deines,,,2025-08-23 12:10:00
2025-08-23,7:50 a.m.,Old Macdonald,Rob Small,Matt Akers,Andrew Akers,Kevin Newell,,,2025-08-23 12:20:00
2025-08-23,8:00 a.m.,Old Macdonald,Johnathn Resetar,Ryan Hohn,Paul Parker,James Adolfson,,,2025-08-23 12:30:00
2025-08-23,8:10 a.m.,Old Macdonald,Vikas Bhasin,Daniel Passino,Hisham Sayeedi,Charlie Hildebrand,,,2025-08-23 12:40:00
2025-08-23,8:20 a.m.,Old Macdonald,AD Hoffman,Bryan Wolfe,Will Quarles,Cory Micheel,,,2025-08-23 12:50:00
2025-08-23,1:10 p.m.,Sheep Ranch,Kevan Oyama,Ryan Hohn,Nick Zangardi,Zach Deines,,REPLAY,2025-08-23 17:40:00
2025-08-23,1:20 p.m.,Bandon Trails,James Adolfson,Johnathn Resetar,Brandon Itaoka,Paul Parker,,REPLAY,2025-08-23 17:50:00
2025-08-23,1:30 p.m.,Bandon Trails,Cory Micheel,Bob Owlett,Will Quarles,AD Hoffman,,REPLAY,2025-08-23 18:00:00
2025-08-23,1:50 p.m.,Bandon Trails,Cory Higgins,Jacob Emert,Ryan Hohn,Mike Newell,,REPLAY,2025-08-23 18:50:00
2025-08-23,2:15 p.m.,Bandon Preserve,Kevin Newell,Rob Small,Vikas Bhasin,Charlie Hildebrand,,Bill to individuals,2025-08-23 16:15:00
2025-08-24,7:00 a.m.,Sheep Ranch,Kevan Oyama,AD Hoffman,Kevin Newell,Rob Small,,,2025-08-24 11:30:00
2025-08-24,7:10 a.m.,Sheep Ranch,Vikas Bhasin,Daniel Passino,Hisham Sayeedi,Charlie Hildebrand,,,2025-08-24 11:40:00
2025-08-24,7:20 a.m.,Sheep Ranch,Cory Higgins,Bob Owlett,Mike Newell,Cory Micheel,,,2025-08-24 11:50:00
2025-08-24,7:30 a.m.,Sheep Ranch,Zach Deines,Johnathn Resetar,Jacob Emert,Brandon Itaoka,,,2025-08-24 12:00:00
2025-08-24,7:40 a.m.,Sheep Ranch,James Adolfson,Ryan Hohn,Nick Zangardi,Paul Parker,,,2025-08-24 12:10:00`;
        
        // Caddy data
        const completeCaddyData = {
            "AD Hoffman": {
                "2025-08-20": { "PM": "No Caddy" },
                "2025-08-21": { "AM": "Non-Carry Strategy Caddy", "PM": "No Caddy" },
                "2025-08-22": { "AM": "Non-Carry Strategy Caddy", "PM": "No Caddy" },
                "2025-08-23": { "AM": "Non-Carry Strategy Caddy", "PM": "No Caddy" },
                "2025-08-24": { "AM": "Non-Carry Strategy Caddy" }
            },
            "Andrew Akers": {
                "2025-08-20": { "PM": "No Caddy" },
                "2025-08-21": { "AM": "No Caddy", "PM": "No Caddy" },
                "2025-08-22": { "AM": "No Caddy", "PM": "No Caddy" },
                "2025-08-23": { "AM": "No Caddy", "PM": "No Caddy" },
                "2025-08-24": { "AM": "Not Playing" }
            },
            "Bob Owlett": {
                "2025-08-20": { "PM": "No Caddy" },
                "2025-08-21": { "AM": "Carry Caddy", "PM": "No Caddy" },
                "2025-08-22": { "AM": "Non-Carry Strategy Caddy", "PM": "No Caddy" },
                "2025-08-23": { "AM": "Carry Caddy", "PM": "No Caddy" },
                "2025-08-24": { "AM": "No Caddy" }
            },
            "Brandon Itaoka": {
                "2025-08-20": { "PM": "No Caddy" },
                "2025-08-21": { "AM": "No Caddy", "PM": "No Caddy" },
                "2025-08-22": { "AM": "No Caddy", "PM": "No Caddy" },
                "2025-08-23": { "AM": "No Caddy", "PM": "No Caddy" },
                "2025-08-24": { "AM": "No Caddy" }
            },
            "Bryan Wolfe": {
                "2025-08-20": { "PM": "No Caddy" },
                "2025-08-21": { "AM": "Non-Carry Strategy Caddy", "PM": "No Caddy" },
                "2025-08-22": { "AM": "Non-Carry Strategy Caddy", "PM": "No Caddy" },
                "2025-08-23": { "AM": "Non-Carry Strategy Caddy", "PM": "No Caddy" },
                "2025-08-24": { "AM": "Not Playing" }
            },
            "Charlie Hildebrand": {
                "2025-08-20": { "PM": "No Caddy" },
                "2025-08-21": { "AM": "Non-Carry Strategy Caddy", "PM": "No Caddy" },
                "2025-08-22": { "AM": "Non-Carry Strategy Caddy", "PM": "No Caddy" },
                "2025-08-23": { "AM": "Non-Carry Strategy Caddy", "PM": "No Caddy" },
                "2025-08-24": { "AM": "Carry Caddy" }
            },
            "Cory Higgins": {
                "2025-08-20": { "PM": "Carry Caddy" },
                "2025-08-21": { "AM": "Carry Caddy", "PM": "No Caddy" },
                "2025-08-22": { "AM": "Carry Caddy", "PM": "Carry Caddy" },
                "2025-08-23": { "AM": "Carry Caddy", "PM": "No Caddy" },
                "2025-08-24": { "AM": "Carry Caddy" }
            },
            "Cory Micheel": {
                "2025-08-20": { "PM": "No Caddy" },
                "2025-08-21": { "AM": "Non-Carry Strategy Caddy", "PM": "No Caddy" },
                "2025-08-22": { "AM": "Non-Carry Strategy Caddy", "PM": "Carry Caddy" },
                "2025-08-23": { "AM": "Non-Carry Strategy Caddy", "PM": "No Caddy" },
                "2025-08-24": { "AM": "No Caddy" }
            },
            "Daniel Passino": {
                "2025-08-20": { "PM": "No Caddy" },
                "2025-08-21": { "AM": "No Caddy", "PM": "Carry Caddy" },
                "2025-08-22": { "AM": "No Caddy", "PM": "No Caddy" },
                "2025-08-23": { "AM": "No Caddy", "PM": "No Caddy" },
                "2025-08-24": { "AM": "Carry Caddy" }
            },
            "Hisham Sayeedi": {
                "2025-08-20": { "PM": "No Caddy" },
                "2025-08-21": { "AM": "Carry Caddy", "PM": "No Caddy" },
                "2025-08-22": { "AM": "Carry Caddy", "PM": "No Caddy" },
                "2025-08-23": { "AM": "Carry Caddy", "PM": "No Caddy" },
                "2025-08-24": { "AM": "Carry Caddy" }
            },
            "Jacob Emert": {
                "2025-08-20": { "PM": "No Caddy" },
                "2025-08-21": { "AM": "Carry Caddy", "PM": "No Caddy" },
                "2025-08-22": { "AM": "Not Playing", "PM": "No Caddy" },
                "2025-08-23": { "AM": "Carry Caddy", "PM": "No Caddy" },
                "2025-08-24": { "AM": "Carry Caddy" }
            },
            "James Adolfson": {
                "2025-08-20": { "PM": "No Caddy" },
                "2025-08-21": { "AM": "No Caddy", "PM": "No Caddy" },
                "2025-08-22": { "AM": "Not Playing", "PM": "No Caddy" },
                "2025-08-23": { "AM": "No Caddy", "PM": "No Caddy" },
                "2025-08-24": { "AM": "No Caddy" }
            },
            "Johnathn Resetar": {
                "2025-08-20": { "PM": "Carry Caddy" },
                "2025-08-21": { "AM": "Carry Caddy", "PM": "No Caddy" },
                "2025-08-22": { "AM": "Not Playing", "PM": "No Caddy" },
                "2025-08-23": { "AM": "Carry Caddy", "PM": "No Caddy" },
                "2025-08-24": { "AM": "No Caddy" }
            },
            "Kevan Oyama": {
                "2025-08-20": { "PM": "No Caddy" },
                "2025-08-21": { "AM": "Carry Caddy", "PM": "Carry Caddy" },
                "2025-08-22": { "AM": "Carry Caddy", "PM": "No Caddy" },
                "2025-08-23": { "AM": "Carry Caddy", "PM": "No Caddy" },
                "2025-08-24": { "AM": "Carry Caddy" }
            },
            "Kevin Newell": {
                "2025-08-20": { "PM": "Carry Caddy" },
                "2025-08-21": { "AM": "Carry Caddy", "PM": "No Caddy" },
                "2025-08-22": { "AM": "Carry Caddy", "PM": "No Caddy" },
                "2025-08-23": { "AM": "Carry Caddy", "PM": "No Caddy" },
                "2025-08-24": { "AM": "Carry Caddy" }
            },
            "Matt Akers": {
                "2025-08-20": { "PM": "No Caddy" },
                "2025-08-21": { "AM": "No Caddy", "PM": "No Caddy" },
                "2025-08-22": { "AM": "No Caddy", "PM": "No Caddy" },
                "2025-08-23": { "AM": "No Caddy", "PM": "No Caddy" },
                "2025-08-24": { "AM": "No Caddy" }
            },
            "Mike Newell": {
                "2025-08-20": { "PM": "Carry Caddy" },
                "2025-08-21": { "AM": "Carry Caddy", "PM": "Carry Caddy" },
                "2025-08-22": { "AM": "Carry Caddy", "PM": "Carry Caddy" },
                "2025-08-23": { "AM": "Carry Caddy", "PM": "Carry Caddy" },
                "2025-08-24": { "AM": "Carry Caddy" }
            },
            "Nick Zangardi": {
                "2025-08-20": { "PM": "No Caddy" },
                "2025-08-21": { "AM": "Carry Caddy", "PM": "No Caddy" },
                "2025-08-22": { "AM": "Carry Caddy", "PM": "No Caddy" },
                "2025-08-23": { "AM": "Carry Caddy", "PM": "No Caddy" },
                "2025-08-24": { "AM": "No Caddy" }
            },
            "Paul Parker": {
                "2025-08-20": { "PM": "No Caddy" },
                "2025-08-21": { "AM": "No Caddy", "PM": "No Caddy" },
                "2025-08-22": { "AM": "No Caddy", "PM": "No Caddy" },
                "2025-08-23": { "AM": "No Caddy", "PM": "No Caddy" },
                "2025-08-24": { "AM": "Non-Carry Strategy Caddy" }
            },
            "Rob Small": {
                "2025-08-20": { "PM": "Carry Caddy" },
                "2025-08-21": { "AM": "Carry Caddy", "PM": "No Caddy" },
                "2025-08-22": { "AM": "Carry Caddy", "PM": "No Caddy" },
                "2025-08-23": { "AM": "Carry Caddy", "PM": "No Caddy" },
                "2025-08-24": { "AM": "Carry Caddy" }
            },
            "Ryan Hohn": {
                "2025-08-20": { "PM": "No Caddy" },
                "2025-08-21": { "AM": "No Caddy", "PM": "No Caddy" },
                "2025-08-22": { "AM": "No Caddy", "PM": "No Caddy" },
                "2025-08-23": { "AM": "No Caddy", "PM": "No Caddy" },
                "2025-08-24": { "AM": "No Caddy" }
            },
            "Vikas Bhasin": {
                "2025-08-20": { "PM": "No Caddy" },
                "2025-08-21": { "AM": "Carry Caddy", "PM": "Carry Caddy" },
                "2025-08-22": { "AM": "Carry Caddy", "PM": "No Caddy" },
                "2025-08-23": { "AM": "Carry Caddy", "PM": "No Caddy" },
                "2025-08-24": { "AM": "Carry Caddy" }
            },
            "Will Quarles": {
                "2025-08-20": { "PM": "No Caddy" },
                "2025-08-21": { "AM": "Carry Caddy", "PM": "No Caddy" },
                "2025-08-22": { "AM": "No Caddy", "PM": "No Caddy" },
                "2025-08-23": { "AM": "No Caddy", "PM": "No Caddy" },
                "2025-08-24": { "AM": "Not Playing" }
            },
            "Zach Deines": {
                "2025-08-20": { "PM": "No Caddy" },
                "2025-08-21": { "AM": "No Caddy", "PM": "No Caddy" },
                "2025-08-22": { "AM": "Not Playing", "PM": "No Caddy" },
                "2025-08-23": { "AM": "No Caddy", "PM": "No Caddy" },
                "2025-08-24": { "AM": "No Caddy" }
            }
        };

        // Rooming data - Corrected 8/15/25
        const roomingData = {
            "James Adolfson": { accommodation: "Forest Double Queen", roommates: ["Will Quarles"] },
            "Will Quarles": { accommodation: "Forest Double Queen", roommates: ["James Adolfson"] },
            "Ryan Hohn": { accommodation: "Forest Double Queen", roommates: ["Paul Parker"] },
            "Paul Parker": { accommodation: "Forest Double Queen", roommates: ["Ryan Hohn"] },
            "Jacob Emert": { accommodation: "Golf Double Queen", roommates: ["Johnathn Resetar"] },
            "Johnathn Resetar": { accommodation: "Golf Double Queen", roommates: ["Jacob Emert"] },
            "Andrew Akers": { accommodation: "Golf Double Queen", roommates: ["Matt Akers"] },
            "Matt Akers": { accommodation: "Golf Double Queen", roommates: ["Andrew Akers"] },
            "Cory Micheel": { accommodation: "Golf Double Queen", roommates: ["AD Hoffman"] },
            "AD Hoffman": { accommodation: "Golf Double Queen", roommates: ["Cory Micheel"] },
            "Nick Zangardi": { accommodation: "Golf Double Queen", roommates: ["Daniel Passino"] },
            "Daniel Passino": { accommodation: "Golf Double Queen", roommates: ["Nick Zangardi"] },
            "Charlie Hildebrand": { accommodation: "Forest Double Queen", roommates: ["Hisham Sayeedi"] },
            "Hisham Sayeedi": { accommodation: "Forest Double Queen", roommates: ["Charlie Hildebrand"] },
            "Bryan Wolfe": { accommodation: "Forest Double Queen", roommates: ["Bob Owlett"] },
            "Bob Owlett": { accommodation: "Forest Double Queen", roommates: ["Bryan Wolfe"] },
            "Kevin Newell": { accommodation: "Grove Cottage", roommates: ["Mike Newell", "Kevan Oyama", "Rob Small"] },
            "Mike Newell": { accommodation: "Grove Cottage", roommates: ["Kevin Newell", "Kevan Oyama", "Rob Small"] },
            "Kevan Oyama": { accommodation: "Grove Cottage", roommates: ["Kevin Newell", "Mike Newell", "Rob Small"] },
            "Rob Small": { accommodation: "Grove Cottage", roommates: ["Kevin Newell", "Mike Newell", "Kevan Oyama"] },
            "Cory Higgins": { accommodation: "Grove Cottage", roommates: ["Zach Deines", "Vikas Bhasin", "Brandon Itaoka"] },
            "Zach Deines": { accommodation: "Grove Cottage", roommates: ["Cory Higgins", "Vikas Bhasin", "Brandon Itaoka"] },
            "Vikas Bhasin": { accommodation: "Grove Cottage", roommates: ["Cory Higgins", "Zach Deines", "Brandon Itaoka"] },
            "Brandon Itaoka": { accommodation: "Grove Cottage", roommates: ["Cory Higgins", "Zach Deines", "Vikas Bhasin"] }
        };

        // Handicap data - UPDATED with the final definitive list.
        const handicaps = {
            "Mike Newell": 0.0,
            "Andrew Akers": 2.0,
            "Cory Higgins": 2.8,
            "James Adolfson": 3.0,
            "Ryan Hohn": 4.3,
            "Kevan Oyama": 4.0,
            "Bob Owlett": 4.9,
            "Jacob Emert": 5.8,
            "Brandon Itaoka": 6.8,
            "Zach Deines": 7.9,
            "Rob Small": 9.1,
            "Kevin Newell": 9.8,
            "Nick Zangardi": 10.0,
            "Vikas Bhasin": 10.5,
            "Hisham Sayeedi": 11.0,
            "Daniel Passino": 11.0,
            "Cory Micheel": 11.0,
            "AD Hoffman": 11.4,
            "Bryan Wolfe": 11.9,
            "Johnathn Resetar": 12.7,
            "Paul Parker": 13.0,
            "Charlie Hildebrand": 15.0,
            "Will Quarles": 16.8,
            "Matt Akers": 16.2
        };

        // Meal data
        const mealsData = {
            "Kevin Newell": { "Breakfast Buffet": 1, "Lunch Box": 1 },
            "Ryan Hohn": { "Breakfast Buffet": 1, "Lunch Box": 1 },
            "Johnathn Resetar": { "Breakfast Buffet": 1, "Lunch Box": 1 },
            "Charlie Hildebrand": { "Breakfast Buffet": 1, "Lunch Box": 1 },
            "Rob Small": { "Breakfast Buffet": 1, "Lunch Box": 1 },
            "Mike Newell": { "Breakfast Buffet": 0, "Lunch Box": 1 },
            "Cory Higgins": { "Breakfast Buffet": 0, "Lunch Box": 1 },
            "Zach Deines": { "Breakfast Buffet": 0, "Lunch Box": 1 },
            "Vikas Bhasin": { "Breakfast Buffet": 0, "Lunch Box": 1 },
            "Jacob Emert": { "Breakfast Buffet": 0, "Lunch Box": 1 },
            "Brandon Itaoka": { "Breakfast Buffet": 0, "Lunch Box": 1 },
            "Nick Zangardi": { "Breakfast Buffet": 0, "Lunch Box": 1 },
            "Andrew Akers": { "Breakfast Buffet": 0, "Lunch Box": 1 },
            "Hisham Sayeedi": { "Breakfast Buffet": 0, "Lunch Box": 1 },
            "Daniel Passino": { "Breakfast Buffet": 0, "Lunch Box": 0 },
            "Matt Akers": { "Breakfast Buffet": 0, "Lunch Box": 0 },
            "Bryan Wolfe": { "Breakfast Buffet": 0, "Lunch Box": 0 },
            "Bob Owlett": { "Breakfast Buffet": 0, "Lunch Box": 0 },
            "Kevan Oyama": { "Breakfast Buffet": 0, "Lunch Box": 0 },
            "Cory Micheel": { "Breakfast Buffet": 0, "Lunch Box": 0 },
            "AD Hoffman": { "Breakfast Buffet": 0, "Lunch Box": 0 },
            "Paul Parker": { "Breakfast Buffet": 0, "Lunch Box": 0 },
            "James Adolfson": { "Breakfast Buffet": 0, "Lunch Box": 0 },
            "Will Quarles": { "Breakfast Buffet": 0, "Lunch Box": 0 }
        };
        
        // This is the new centralized data object for daily teams and scores.
        const dailyData = {
            "8-20": {
                sixTeamData: { "Team 1": ["Mike Newell","Rob Small","Vikas Bhasin","Matt Akers"], "Team 2": ["Andrew Akers","Nick Zangardi","Daniel Passino","Will Quarles"], "Team 3": ["Cory Higgins","Kevin Newell","Hisham Sayeedi","Charlie Hildebrand"], "Team 4": ["James Adolfson","Zach Deines","Cory Micheel","Paul Parker"], "Team 5": ["Ryan Hohn","Jacob Emert","AD Hoffman","Johnathn Resetar"], "Team 6": ["Kevan Oyama","Bob Owlett","Brandon Itaoka","Bryan Wolfe"] },
                fourTeamData: { "Team 1": ["Mike Newell","Ryan Hohn","Kevin Newell","AD Hoffman","Paul Parker","Will Quarles"], "Team 2": ["Andrew Akers","Kevan Oyama","Nick Zangardi","Bryan Wolfe","Charlie Hildebrand","Matt Akers"], "Team 3": ["Cory Higgins","Jacob Emert","Daniel Passino","Hisham Sayeedi","Cory Micheel","Johnathn Resetar"], "Team 4": ["James Adolfson","Bob Owlett","Brandon Itaoka","Zach Deines","Rob Small","Vikas Bhasin"] },
                scores: { "Cory Higgins": 57, "Mike Newell": 5, "Andrew Akers": 41, "James Adolfson": 42, "Ryan Hohn": 58, "Kevan Oyama": 32, "Bob Owlett": 62, "Jacob Emert": 49, "Brandon Itaoka": 29, "Zach Deines": 51, "Rob Small": 45, "Kevin Newell": 60, "Nick Zangardi": 64, "Vikas Bhasin": 63, "Hisham Sayeedi": 54, "Daniel Passino": 47, "Cory Micheel": 32, "AD Hoffman": 36, "Bryan Wolfe": 38, "Johnathn Resetar": 42, "Paul Parker": 45, "Charlie Hildebrand": 49, "Will Quarles": 51, "Matt Akers": 53 },
                funBets: [ { bet: "Closest to the Pin #1", winner: "Cory Higgins" }, { bet: "Closest to the Pin #2", winner: "Jacob Emert" }, { bet: "Long Drive - In Fairway", winner: "Cory Higgins" } ]
            },
            "8-21": { 
                sixTeamData: { "Team 1": ["Mike Newell","Jacob Emert","Brandon Itaoka","Daniel Passino"], "Team 2": ["Andrew Akers","Bob Owlett","Zach Deines","Hisham Sayeedi"], "Team 3": ["Cory Higgins","Kevan Oyama","Rob Small","Vikas Bhasin"], "Team 4": ["James Adolfson","Ryan Hohn","Kevin Newell","Nick Zangardi"], "Team 5": ["Cory Micheel","AD Hoffman","Paul Parker","Will Quarles"], "Team 6": ["Bryan Wolfe","Charlie Hildebrand","Johnathn Resetar","Matt Akers"] },
                fourTeamData: { "Team 1": ["Mike Newell","Jacob Emert","Brandon Itaoka","Daniel Passino","Andrew Akers","Bob Owlett"], "Team 2": ["Zach Deines","Hisham Sayeedi","Cory Higgins","Kevan Oyama","Rob Small","Vikas Bhasin"], "Team 3": ["James Adolfson","Ryan Hohn","Kevin Newell","Nick Zangardi","Cory Higgins","Kevan Oyama"], "Team 4": ["Rob Small","Vikas Bhasin","James Adolfson","Ryan Hohn","Kevin Newell","Nick Zangardi"] },
                scores: { "Mike Newell": 63, "Jacob Emert": 44, "Brandon Itaoka": 28, "Daniel Passino": 47, "Andrew Akers": 40, "Bob Owlett": 30, "Zach Deines": 39, "Hisham Sayeedi": 61, "Cory Higgins": 38, "Kevan Oyama": 28, "Rob Small": 58, "Vikas Bhasin": 61, "James Adolfson": 46, "Ryan Hohn": 29, "Kevin Newell": 54, "Nick Zangardi": 64, "Cory Micheel": 0, "AD Hoffman": 0, "Paul Parker": 0, "Will Quarles": 0, "Bryan Wolfe": 0, "Charlie Hildebrand": 0, "Johnathn Resetar": 0, "Matt Akers": 0 },
                funBets: [ { bet: "Closest to the Pin #1", winner: "Cory Higgins" }, { bet: "Closest to the Pin #2", winner: "Rob Small" }, { bet: "Long Drive - In Fairway", winner: "Andrew Akers" } ]
            },
            "8-22": { 
                sixTeamData: { "Team 1": ["Mike Newell","Jacob Emert","Brandon Itaoka","Daniel Passino"], "Team 2": ["Andrew Akers","Bob Owlett","Zach Deines","Hisham Sayeedi"], "Team 3": ["Cory Higgins","Kevan Oyama","Rob Small","Vikas Bhasin"], "Team 4": ["James Adolfson","Ryan Hohn","Kevin Newell","Nick Zangardi"], "Team 5": ["Cory Micheel","AD Hoffman","Paul Parker","Will Quarles"], "Team 6": ["Bryan Wolfe","Charlie Hildebrand","Johnathn Resetar","Matt Akers"] },
                fourTeamData: { "Team 1": ["Mike Newell","Jacob Emert","Brandon Itaoka","Daniel Passino","Andrew Akers","Bob Owlett"], "Team 2": ["Zach Deines","Hisham Sayeedi","Cory Higgins","Kevan Oyama","Rob Small","Vikas Bhasin"], "Team 3": ["James Adolfson","Ryan Hohn","Kevin Newell","Nick Zangardi","Cory Higgins","Kevan Oyama"], "Team 4": ["Rob Small","Vikas Bhasin","James Adolfson","Ryan Hohn","Kevin Newell","Nick Zangardi"] },
                scores: { "Mike Newell": 27, "Jacob Emert": 36, "Brandon Itaoka": 42, "Daniel Passino": 59, "Andrew Akers": 43, "Bob Owlett": 53, "Zach Deines": 32, "Hisham Sayeedi": 43, "Cory Higgins": 45, "Kevan Oyama": 30, "Rob Small": 58, "Vikas Bhasin": 41, "James Adolfson": 59, "Ryan Hohn": 45, "Kevin Newell": 40, "Nick Zangardi": 33, "Cory Micheel": 0, "AD Hoffman": 0, "Paul Parker": 0, "Will Quarles": 0, "Bryan Wolfe": 0, "Charlie Hildebrand": 0, "Johnathn Resetar": 0, "Matt Akers": 0 },
                funBets: [ { bet: "Closest to the Pin #1", winner: "Mike Newell" }, { bet: "Closest to the Pin #2", winner: "Andrew Akers" }, { bet: "Long Drive - In Fairway", winner: "Kevan Oyama" } ]
            },
            "8-23": { 
                sixTeamData: { "Team 1": ["Mike Newell","Jacob Emert","Brandon Itaoka","Daniel Passino"], "Team 2": ["Andrew Akers","Bob Owlett","Zach Deines","Hisham Sayeedi"], "Team 3": ["Cory Higgins","Kevan Oyama","Rob Small","Vikas Bhasin"], "Team 4": ["James Adolfson","Ryan Hohn","Kevin Newell","Nick Zangardi"], "Team 5": ["Cory Micheel","AD Hoffman","Paul Parker","Will Quarles"], "Team 6": ["Bryan Wolfe","Charlie Hildebrand","Johnathn Resetar","Matt Akers"] },
                fourTeamData: { "Team 1": ["Mike Newell","Jacob Emert","Brandon Itaoka","Daniel Passino","Andrew Akers","Bob Owlett"], "Team 2": ["Zach Deines","Hisham Sayeedi","Cory Higgins","Kevan Oyama","Rob Small","Vikas Bhasin"], "Team 3": ["James Adolfson","Ryan Hohn","Kevin Newell","Nick Zangardi","Cory Higgins","Kevan Oyama"], "Team 4": ["Rob Small","Vikas Bhasin","James Adolfson","Ryan Hohn","Kevin Newell","Nick Zangardi"] },
                scores: { "Mike Newell": 53, "Jacob Emert": 55, "Brandon Itaoka": 65, "Daniel Passino": 35, "Andrew Akers": 49, "Bob Owlett": 40, "Zach Deines": 29, "Hisham Sayeedi": 32, "Cory Higgins": 30, "Kevan Oyama": 50, "Rob Small": 36, "Vikas Bhasin": 37, "James Adolfson": 59, "Ryan Hohn": 65, "Kevin Newell": 39, "Nick Zangardi": 61, "Cory Micheel": 0, "AD Hoffman": 0, "Paul Parker": 0, "Will Quarles": 0, "Bryan Wolfe": 0, "Charlie Hildebrand": 0, "Johnathn Resetar": 0, "Matt Akers": 0 },
                funBets: [ { bet: "Closest to the Pin #1", winner: "Johnathn Resetar" }, { bet: "Closest to the Pin #2", winner: "Charlie Hildebrand" }, { bet: "Long Drive - In Fairway", winner: "Cory Micheel" } ]
            },
            "8-24": { 
                sixTeamData: { "Team 1": ["Mike Newell","Jacob Emert","Brandon Itaoka","Daniel Passino"], "Team 2": ["Andrew Akers","Bob Owlett","Zach Deines","Hisham Sayeedi"], "Team 3": ["Cory Higgins","Kevan Oyama","Rob Small","Vikas Bhasin"], "Team 4": ["James Adolfson","Ryan Hohn","Kevin Newell","Nick Zangardi"], "Team 5": ["Cory Micheel","AD Hoffman","Paul Parker","Will Quarles"], "Team 6": ["Bryan Wolfe","Charlie Hildebrand","Johnathn Resetar","Matt Akers"] },
                fourTeamData: { "Team 1": ["Mike Newell","Jacob Emert","Brandon Itaoka","Daniel Passino","Andrew Akers","Bob Owlett"], "Team 2": ["Zach Deines","Hisham Sayeedi","Cory Higgins","Kevan Oyama","Rob Small","Vikas Bhasin"], "Team 3": ["James Adolfson","Ryan Hohn","Kevin Newell","Nick Zangardi","Cory Higgins","Kevan Oyama"], "Team 4": ["Rob Small","Vikas Bhasin","James Adolfson","Ryan Hohn","Kevin Newell","Nick Zangardi"] },
                scores: { "Mike Newell": 51, "Jacob Emert": 37, "Brandon Itaoka": 42, "Daniel Passino": 51, "Andrew Akers": 46, "Bob Owlett": 61, "Zach Deines": 46, "Hisham Sayeedi": 39, "Cory Higgins": 33, "Kevan Oyama": 33, "Rob Small": 63, "Vikas Bhasin": 26, "James Adolfson": 65, "Ryan Hohn": 36, "Kevin Newell": 30, "Nick Zangardi": 49, "Cory Micheel": 0, "AD Hoffman": 0, "Paul Parker": 0, "Will Quarles": 0, "Bryan Wolfe": 0, "Charlie Hildebrand": 0, "Johnathn Resetar": 0, "Matt Akers": 0 },
                funBets: [ { bet: "Closest to the Pin #1", winner: "Ryan Hohn" }, { bet: "Closest to the Pin #2", winner: "Jacob Emert" }, { bet: "Long Drive - In Fairway", winner: "Will Quarles" } ]
            }
        };

        // All JavaScript functions follow...
        function parseCSV(csv) {
            const lines = csv.split('\n').filter(line => line.trim() !== '');
            if (lines.length < 2) return [];

            const data = [];
            const headers = lines[0].split(',').map(h => h.trim());
            const dateIndex = headers.indexOf('Date');
            const timeIndex = headers.indexOf('Time');
            const courseIndex = headers.indexOf('Course');
            const playerIndices = [
                headers.indexOf('Player1'),
                headers.indexOf('Player2'),
                headers.indexOf('Player3'),
                headers.indexOf('Player4'),
                headers.indexOf('Player5')
            ].filter(i => i !== -1);
            const notesIndex = headers.indexOf('Notes');
            const completeEstimateIndex = headers.indexOf('CompleteEstimate');

            for (let i = 1; i < lines.length; i++) {
                const currentLine = lines[i].split(',');
                const row = {};
                row['Date'] = currentLine[dateIndex] ? currentLine[dateIndex].trim() : '';
                row['Time'] = currentLine[timeIndex] ? currentLine[timeIndex].trim() : '';
                row['Course'] = currentLine[courseIndex] ? currentLine[courseIndex].trim() : '';
                row['Notes'] = notesIndex > -1 && currentLine[notesIndex] ? currentLine[notesIndex].trim() : '';
                row['CompleteEstimate'] = completeEstimateIndex > -1 && currentLine[completeEstimateIndex] ? currentLine[completeEstimateIndex].trim() : '';
                
                let players = [];
                playerIndices.forEach((pIndex) => {
                    if (pIndex < currentLine.length) {
                        const playerName = currentLine[pIndex] ? currentLine[pIndex].trim() : '';
                        if (playerName) {
                            players.push(playerName);
                        }
                    }
                });
                row['Players'] = players;

                if (row['Date'] && row['Time'] && row['Course'] && players.length > 0) {
                    data.push(row);
                }
            }
            return data;
        }

        function populatePlayerSelect(players) {
            const playerSelect = document.getElementById('player-select');
            if (playerSelect) {
                playerSelect.innerHTML = '';
                const sortedPlayers = [...players].sort();
                sortedPlayers.forEach(player => {
                    const option = document.createElement('option');
                    option.value = player;
                    option.textContent = player;
                    playerSelect.appendChild(option);
                });
            }
        }

        function populateNotes(playerName) {
            const notesBody = document.getElementById('notes-table-body');
            notesBody.innerHTML = '';

            const staticNotes = ["Welcome dinner at Trail's End 8:30 p.m."];
            staticNotes.forEach(note => {
                const tr = document.createElement('tr');
                const td = document.createElement('td');
                td.className = 'border px-4 py-2';
                td.textContent = note;
                tr.appendChild(td);
                notesBody.appendChild(tr);
            });

            const playerMeals = mealsData[playerName];
            if (playerMeals) {
                const breakfastStatus = playerMeals["Breakfast Buffet"] === 1 ? "Yes" : "No";
                const lunchStatus = playerMeals["Lunch Box"] === 1 ? "Yes" : "No";

                let trBreakfast = document.createElement('tr');
                let tdBreakfast = document.createElement('td');
                tdBreakfast.className = 'border px-4 py-2';
                tdBreakfast.textContent = `Breakfast: ${breakfastStatus}`;
                trBreakfast.appendChild(tdBreakfast);
                notesBody.appendChild(trBreakfast);

                let trLunch = document.createElement('tr');
                let tdLunch = document.createElement('td');
                tdLunch.className = 'border px-4 py-2';
                tdLunch.textContent = `Lunch: ${lunchStatus}`;
                trLunch.appendChild(tdLunch);
                notesBody.appendChild(trLunch);
            }

            const playerRoomingInfo = roomingData[playerName];
            if (playerRoomingInfo) {
                let trAccommodations = document.createElement('tr');
                let tdAccommodations = document.createElement('td');
                tdAccommodations.className = 'border px-4 py-2';
                tdAccommodations.textContent = `Accommodations: ${playerRoomingInfo.accommodation}`;
                trAccommodations.appendChild(tdAccommodations);
                notesBody.appendChild(trAccommodations);

                let trRoommate = document.createElement('tr');
                let tdRoommate = document.createElement('td');
                tdRoommate.className = 'border px-4 py-2';
                let roommateText = 'None';
                if (playerRoomingInfo.roommates && playerRoomingInfo.roommates.length > 0) {
                    roommateText = playerRoomingInfo.roommates.join(', ');
                }
                const roommateLabel = (playerRoomingInfo.roommates && playerRoomingInfo.roommates.length > 1) ? 'Roommates' : 'Roommate';
                tdRoommate.textContent = `${roommateLabel}: ${roommateText}`;
                trRoommate.appendChild(tdRoommate);
                notesBody.appendChild(trRoommate);
            }
        }

        function populateTeeTimesForPlayer(playerName) {
            const pairingsBody = document.getElementById('tee-time-pairings-body');
            const currentPlayerTitle = document.getElementById('current-player-tee-times-title');
            const mainTripSummaryTitle = document.getElementById('main-trip-summary-title');
            const stablefordTableBody = document.querySelector('#stableford-table tbody');
            const parsedData = parseCSV(csvData);

            mainTripSummaryTitle.textContent = `${playerName} - Bandon Dunes Golf Trip Summary`;
            currentPlayerTitle.textContent = `${playerName}'s Tee Time Pairings`;
            pairingsBody.innerHTML = '';

            const existingHandicapRow = stablefordTableBody.querySelector('.player-handicap-row');
            if (existingHandicapRow) existingHandicapRow.remove();
            const existingSpacingRow = stablefordTableBody.querySelector('.spacing-row');
            if (existingSpacingRow) existingSpacingRow.remove();

            const spacingTr = document.createElement('tr');
            spacingTr.className = 'spacing-row';
            spacingTr.innerHTML = '<td colspan="4"></td>';
            stablefordTableBody.appendChild(spacingTr);

            const playerHandicap = handicaps[playerName];
            if (playerHandicap !== undefined) {
                const tr = document.createElement('tr');
                tr.className = 'player-handicap-row';
                tr.innerHTML = `<td class="border px-4 py-2 font-semibold">${playerName}'s Handicap</td><td class="border px-4 py-2 bg-white">${playerHandicap.toFixed(1)}</td><td class="border px-4 py-2 bg-white" colspan="2"></td>`;
                stablefordTableBody.appendChild(tr);
            }

            let playerTeeTimes = parsedData.filter(row => row.Players.includes(playerName));

            playerTeeTimes.sort((a, b) => {
                const dateA = new Date(`${a['Date']} ${a['Time'].replace(/\./g, '')}`);
                const dateB = new Date(`${b['Date']} ${b['Time'].replace(/\./g, '')}`);
                return dateA - dateB;
            });

            playerTeeTimes.forEach(row => {
                const tr = document.createElement('tr');
                const dateObj = new Date(row['Date'].replace(/-/g, '/'));
                const dateTd = document.createElement('td');
                dateTd.className = 'px-4 py-2';
                dateTd.textContent = dateObj.toLocaleDateString('en-US', { weekday: 'short', month: 'numeric', day: 'numeric' }).replace(',', ' -');
                tr.appendChild(dateTd);

                const timeTd = document.createElement('td');
                timeTd.className = 'px-4 py-2';
                timeTd.textContent = row['Time'];
                tr.appendChild(timeTd);

                const completeTimeTd = document.createElement('td');
                completeTimeTd.className = 'px-4 py-2';
                const fullDateTime = row['CompleteEstimate'];
                if (fullDateTime && fullDateTime.includes(' ')) {
                    const timeString = new Date(fullDateTime).toLocaleTimeString('en-US', { hour: 'numeric', minute: '2-digit', hour12: true });
                    completeTimeTd.textContent = timeString;
                } else {
                    completeTimeTd.textContent = 'N/A';
                }
                tr.appendChild(completeTimeTd);

                const courseTd = document.createElement('td');
                courseTd.className = 'px-4 py-2';
                courseTd.textContent = row['Course'];
                tr.appendChild(courseTd);

                let teeTimeAmPm = row['Time'].toLowerCase().includes('p.m.') ? 'PM' : 'AM';
                let caddyTypeForRound = completeCaddyData[playerName]?.[row['Date']]?.[teeTimeAmPm] || 'N/A';
                const caddieTd = document.createElement('td');
                caddieTd.className = 'px-4 py-2';
                caddieTd.textContent = caddyTypeForRound;
                tr.appendChild(caddieTd);

                const partnersTd = document.createElement('td');
                partnersTd.className = 'px-4 py-2';
                const partners = row.Players
                    .filter(p => p && p !== playerName && p !== 'TBD')
                    .map(p => `${p} (${handicaps[p] !== undefined ? handicaps[p].toFixed(1) : 'N/A'})`)
                    .join(', ');
                partnersTd.textContent = partners;
                tr.appendChild(partnersTd);
                pairingsBody.appendChild(tr);
            });
        }

        function populateDailyPairings() {
            const dailyPairingsBody = document.getElementById('daily-pairings-body');
            dailyPairingsBody.innerHTML = '';
            const parsedData = parseCSV(csvData);

            const pairingsByDate = {};
            parsedData.forEach(row => {
                if (!pairingsByDate[row.Date]) pairingsByDate[row.Date] = [];
                pairingsByDate[row.Date].push(row);
            });

            Object.keys(pairingsByDate).sort().forEach(date => {
                const dailyPairings = pairingsByDate[date].sort((a,b) => new Date(`${a.Date} ${a.Time.replace(/\./g, '')}`) - new Date(`${b.Date} ${b.Time.replace(/\./g, '')}`));
                dailyPairings.forEach((row, index) => {
                    const tr = document.createElement('tr');
                    if (index === dailyPairings.length - 1 && date !== '2025-08-24') {
                        tr.className = 'last-tee-time-of-day';
                    }
                    
                    const dateObj = new Date(row.Date.replace(/-/g, '/'));
                    const fullDateTime = row['CompleteEstimate'];
                    let completeTimeText = 'N/A';
                    if (fullDateTime && fullDateTime.includes(' ')) {
                        completeTimeText = new Date(fullDateTime).toLocaleTimeString('en-US', { hour: 'numeric', minute: '2-digit', hour12: true });
                    }

                    tr.innerHTML = `
                        <td class="px-4 py-2">${dateObj.toLocaleDateString('en-US', { weekday: 'short', month: 'numeric', day: 'numeric' }).replace(',', ' -')}</td>
                        <td class="px-4 py-2">${row.Time}</td>
                        <td class="px-4 py-2">${completeTimeText}</td>
                        <td class="px-4 py-2">${row.Course}</td>
                        <td class="px-4 py-2">${row.Players.filter(p => p && p !== 'TBD').map(p => `${p} (${handicaps[p] !== undefined ? handicaps[p].toFixed(1) : 'N/A'})`).join('<br>')}</td>
                    `;
                    dailyPairingsBody.appendChild(tr);
                });
            });
        }

        function populateCaddySummary() {
            const caddySummaryBody = document.getElementById('caddy-summary-body');
            const caddySummaryHeaderRow = document.getElementById('caddy-summary-header-row');
            caddySummaryBody.innerHTML = '';
            caddySummaryHeaderRow.innerHTML = '<th class="px-4 py-2">Player</th>';

            const players = Object.keys(handicaps).sort();
            
            const dateRounds = [
                { date: '2025-08-20', round: 'PM', label: 'Wed 8/20 (PM)' },
                { date: '2025-08-21', round: 'AM', label: 'Thu 8/21 (AM)' },
                { date: '2025-08-21', round: 'PM', label: 'Thu 8/21 (PM)' },
                { date: '2025-08-22', round: 'AM', label: 'Fri 8/22 (AM)' },
                { date: '2025-08-22', round: 'PM', label: 'Fri 8/22 (PM)' },
                { date: '2025-08-23', round: 'AM', label: 'Sat 8/23 (AM)' },
                { date: '2025-08-23', round: 'PM', label: 'Sat 8/23 (PM)' },
                { date: '2025-08-24', round: 'AM', label: 'Sun 8/24 (AM)' }
            ];

            dateRounds.forEach(dateRound => {
                const th = document.createElement('th');
                th.className = 'px-4 py-2';
                th.textContent = dateRound.label;
                caddySummaryHeaderRow.appendChild(th);
            });

            players.forEach(player => {
                const tr = document.createElement('tr');
                tr.innerHTML = `<td class="px-4 py-2 font-semibold">${player}</td>`;
                
                dateRounds.forEach(dateRound => {
                    const caddyType = completeCaddyData[player]?.[dateRound.date]?.[dateRound.round] || 'N/A';
                    const caddyTd = document.createElement('td');
                    caddyTd.className = 'px-4 py-2';
                    caddyTd.textContent = caddyType;
                    tr.appendChild(caddyTd);
                });
                caddySummaryBody.appendChild(tr);
            });
        }

        function populateCaddySummaryByTeeTime() {
            const teeTimeSummaryBody = document.getElementById('caddy-tee-time-summary-body');
            if (!teeTimeSummaryBody) return;
            teeTimeSummaryBody.innerHTML = '';
            const parsedData = parseCSV(csvData);

            const teeTimesByDate = {};
            parsedData.forEach(row => {
                if (!teeTimesByDate[row.Date]) teeTimesByDate[row.Date] = [];
                teeTimesByDate[row.Date].push(row);
            });

            Object.keys(teeTimesByDate).sort().forEach(date => {
                const dailyTeeTimes = teeTimesByDate[date].sort((a,b) => new Date(`${a.Date} ${a.Time.replace(/\./g, '')}`) - new Date(`${b.Date} ${b.Time.replace(/\./g, '')}`));
                dailyTeeTimes.forEach((row, index) => {
                    const tr = document.createElement('tr');
                    const dateObj = new Date(row.Date.replace(/-/g, '/'));
                    let teeTimeAmPm = row['Time'].toLowerCase().includes('p.m.') ? 'PM' : 'AM';

                    const players = row.Players;
                    const playersWithCaddies = players.filter(p => p && p !== 'TBD').map(p => {
                        let caddyChoice = 'No Caddy';
                        if (row.Course !== "Shorty's" && row.Course !== "Bandon Preserve") {
                            caddyChoice = completeCaddyData[p]?.[date]?.[teeTimeAmPm] || 'No Caddy';
                        }
                        return `${p} - ${caddyChoice}`;
                    });

                    const caddyCounts = players.reduce((counts, player) => {
                        if (player && player !== 'TBD') {
                            let caddyChoice = 'No Caddy';
                            if (row.Course !== "Shorty's" && row.Course !== "Bandon Preserve") {
                                caddyChoice = completeCaddyData[player]?.[date]?.[teeTimeAmPm] || 'No Caddy';
                            }
                            if (caddyChoice !== 'No Caddy' && caddyChoice !== 'Not Playing') {
                                counts[caddyChoice] = (counts[caddyChoice] || 0) + 1;
                            }
                        }
                        return counts;
                    }, {});

                    const summaryString = Object.keys(caddyCounts).map(type => `${type}: ${caddyCounts[type]}`).join(', ') || 'No Caddies';
                    
                    tr.innerHTML = `
                        <td class="px-4 py-2">${dateObj.toLocaleDateString('en-US', { weekday: 'short', month: 'numeric', day: 'numeric' }).replace(',', ' -')}</td>
                        <td class="px-4 py-2">${row.Time}</td>
                        <td class="px-4 py-2">${row.Course}</td>
                        <td class="px-4 py-2">${playersWithCaddies.join('<br>')}</td>
                        <td class="px-4 py-2">${summaryString}</td>
                    `;
                    teeTimeSummaryBody.appendChild(tr);

                    if (index === dailyTeeTimes.length - 1 && Object.keys(teeTimesByDate).sort().pop() !== date) {
                        const separatorTr = document.createElement('tr');
                        separatorTr.className = 'caddy-summary-separator';
                        separatorTr.innerHTML = '<td colspan="5"></td>';
                        teeTimeSummaryBody.appendChild(separatorTr);
                    }
                });
            });
        }

        function populateDailyFlow(playerName) {
            const header = document.getElementById('daily-flow-header');
            const body = document.getElementById('daily-flow-body');
            const dailyFlowTitle = document.querySelector('#content-daily-flow .card h2');
            
            header.innerHTML = '';
            body.innerHTML = '';
            
            dailyFlowTitle.textContent = `Daily Flow - ${playerName}`;

            const dates = [...new Set(parseCSV(csvData).map(row => row.Date))].sort();
            let headerRow = '<tr><th class="px-2 py-1">Time</th>';
            dates.forEach(date => {
                const d = new Date(date.replace(/-/g, '/'));
                headerRow += `<th class="px-2 py-1">${d.toLocaleDateString('en-US', { weekday: 'short', month: 'numeric', day: 'numeric' })}</th>`;
            });
            headerRow += '</tr>';
            header.innerHTML = headerRow;

            const playerTeeTimes = parseCSV(csvData).filter(row => row.Players.includes(playerName));

            for (let hour = 7; hour <= 20; hour++) {
                for (let minute = 0; minute < 60; minute += 15) {
                    const time = `${hour.toString().padStart(2, '0')}:${minute.toString().padStart(2, '0')}`;
                    let rowHtml = `<tr><td class="px-2 py-1 font-mono text-xs">${time}</td>`;

                    dates.forEach(date => {
                        let cellContent = '';
                        let cellClass = 'bg-gray-100';
                        const now = new Date(`${date} ${time}`);

                        if (date === '2025-08-20' && time === '20:30') {
                            cellContent = 'Trails End Grill - Group Dinner';
                            cellClass = 'bg-purple-200';
                        } else {
                            const dailyTeeTimes = playerTeeTimes.filter(tt => tt.Date === date).sort((a, b) =>
                                 new Date(`${a.Date} ${a.Time.replace(/\./g, '')}`) - new Date(`${b.Date} ${b.Time.replace(/\./g, '')}`)
                            );

                            let foundActivity = false;
                            
                            for(let i = 0; i < dailyTeeTimes.length; i++) {
                                const tt = dailyTeeTimes[i];
                                const startTime = new Date(`${tt.Date} ${tt.Time.replace(/\./g, '')}`);
                                const endTime = tt['CompleteEstimate'] ? new Date(tt['CompleteEstimate']) : new Date(startTime.getTime() + 4.5 * 60 * 60 * 1000);
                                                                
                                if (now >= startTime && now < endTime) {
                                    if(Math.abs(now - startTime) < 15 * 60 * 1000) {
                                        cellContent = `${tt.Time} - ${tt.Course}`;
                                    } else {
                                        cellContent = tt.Course;
                                    }
                                    cellClass = 'bg-blue-200';
                                    foundActivity = true;
                                    break;
                                }

                                if (i + 1 < dailyTeeTimes.length) {
                                    const nextTeeTime = new Date(`${dailyTeeTimes[i+1].Date} ${dailyTeeTimes[i+1].Time.replace(/\./g, '')}`);
                                    if (now >= endTime && now < nextTeeTime) {
                                        cellClass = 'bg-green-300';
                                        cellContent = 'Free Time';
                                        foundActivity = true;
                                        break;
                                    }
                                }
                            }
                            if (!foundActivity) {
                                cellContent = '';
                                cellClass = 'bg-gray-100';
                            }
                        }
                        rowHtml += `<td class="px-2 py-1 text-xs ${cellClass}">${cellContent}</td>`;
                    });
                    rowHtml += '</tr>';
                    body.innerHTML += rowHtml;
                }
            }
        }
        
        function populateScoringView() {
            const selectedDate = document.getElementById('date-select').value;
            const selectedFormat = 'four'; // Hardcoded to 'four' teams
            const dataForDay = dailyData[selectedDate];
            const container = document.getElementById('scoring-display-area');
            
            if (!dataForDay || !container) {
                container.innerHTML = '<p>No data available for this day.</p>';
                return;
            }

            const teamData = selectedFormat === 'six' ? dataForDay.sixTeamData : dataForDay.fourTeamData;
            const scores = dataForDay.scores || {};
            const funBets = dataForDay.funBets || [];

            let rankedTeams = [];
            for (const teamName in teamData) {
                const players = teamData[teamName];
                let teamTotal = 0;
                players.forEach(player => {
                    teamTotal += scores[player] || 0;
                });
                rankedTeams.push({ name: teamName, players: players, total: teamTotal });
            }

            rankedTeams.sort((a, b) => b.total - a.total);

            let funBetsHtml = `
                <div class="mb-8">
                    <h3 class="text-xl font-semibold text-gray-800 mb-4">Fun Bets</h3>
                    <table class="table-auto w-full md:w-1/2">
                        <thead>
                            <tr>
                                <th class="px-4 py-2">Bet</th>
                                <th class="px-4 py-2">Winner</th>
                            </tr>
                        </thead>
                        <tbody>
            `;

            funBets.forEach(bet => {
                funBetsHtml += `
                    <tr>
                        <td class="border px-4 py-2">${bet.bet}</td>
                        <td class="border px-4 py-2">${bet.winner}</td>
                    </tr>
                `;
            });
            
            funBetsHtml += `
                        </tbody>
                    </table>
                </div>
            `;

            let rankingHtml = `
                <div class="mb-8">
                    <h3 class="text-xl font-semibold text-gray-800 mb-4">Team Rankings</h3>
                    <table class="table-auto w-full md:w-1/2">
                        <thead>
                            <tr>
                                <th class="px-4 py-2">Rank</th>
                                <th class="px-4 py-2">Team</th>
                                <th class="px-4 py-2">Total Score</th>
                            </tr>
                        </thead>
                        <tbody>
            `;

            rankedTeams.forEach((team, index) => {
                rankingHtml += `
                    <tr class="${index === 0 ? 'winning-team-highlight' : ''}">
                        <td class="border px-4 py-2">${index + 1}</td>
                        <td class="border px-4 py-2">${team.name}</td>
                        <td class="border px-4 py-2">${team.total}</td>
                    </tr>
                `;
            });
            
            rankingHtml += `
                        </tbody>
                    </table>
                </div>
            `;

            let tablesHtml = '';
            rankedTeams.forEach(team => {
                tablesHtml += `
                    <div class="mb-6">
                        <table class="table-fixed w-full">
                            <thead>
                                <tr>
                                    <th class="px-4 py-2 team-header" colspan="4">${team.name}</th>
                                </tr>
                                <tr>
                                    <th class="px-4 py-2 w-2/5">Player</th>
                                    <th class="px-4 py-2 w-1/5">Handicap</th>
                                    <th class="px-4 py-2 w-1/5">Score</th>
                                    <th class="px-4 py-2 w-1/5">Team Total</th>
                                </tr>
                            </thead>
                            <tbody>
                `;
                team.players.forEach((player, index) => {
                    const handicap = handicaps[player] ? handicaps[player].toFixed(1) : 'N/A';
                    const score = scores[player] || 0;
                    tablesHtml += `
                        <tr>
                            <td class="border px-4 py-2">${player}</td>
                            <td class="border px-4 py-2">${handicap}</td>
                            <td class="border px-4 py-2">${score}</td>
                    `;
                    if (index === 0) {
                        tablesHtml += `<td class="border px-4 py-2 font-bold" rowspan="${team.players.length}">${team.total}</td>`;
                    }
                    tablesHtml += `</tr>`;
                });
                tablesHtml += `
                            </tbody>
                        </table>
                    </div>
                `;
            });

            container.innerHTML = funBetsHtml + rankingHtml + tablesHtml;
        }

        function initialize() {
            const allPlayers = Object.keys(handicaps);
            populatePlayerSelect(allPlayers);
            
            const initialPlayer = allPlayers.sort()[0];
            document.getElementById('player-select').value = initialPlayer;
            
            populateTeeTimesForPlayer(initialPlayer);
            populateNotes(initialPlayer);
            populateDailyPairings();
            populateCaddySummary();
            populateCaddySummaryByTeeTime();
            populateDailyFlow(initialPlayer);

            // Setup for the new consolidated scoring tab
            const dateSelect = document.getElementById('date-select');
            const scoringDates = Object.keys(dailyData);

            scoringDates.forEach(date => {
                const option = document.createElement('option');
                option.value = date;
                option.textContent = `${date.replace('-', '/')} - Scoring`;
                dateSelect.appendChild(option);
            });

            dateSelect.addEventListener('change', populateScoringView);

            // Initial population of the scoring tab
            populateScoringView();

            document.getElementById('player-select').addEventListener('change', (event) => {
                const selectedPlayer = event.target.value;
                populateTeeTimesForPlayer(selectedPlayer);
                populateNotes(selectedPlayer);
                populateDailyFlow(selectedPlayer);
            });

            document.querySelectorAll('.tab-button').forEach(button => {
                button.addEventListener('click', () => {
                    document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));
                    document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
                    button.classList.add('active');
                    const contentId = button.id.replace('tab-', 'content-');
                    document.getElementById(contentId).classList.add('active');
                });
            });
        }

        window.onload = initialize;
    </script>
</body>
</html>
