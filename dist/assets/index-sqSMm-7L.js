import{initializeApp as ee}from"https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";import{getAuth as ae,onAuthStateChanged as te,signInAnonymously as oe}from"https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";import{getFirestore as ne,doc as Z,setDoc as de,getDoc as se,collection as G,query as re,getDocs as V}from"https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const a of t)if(a.type==="childList")for(const e of a.addedNodes)e.tagName==="LINK"&&e.rel==="modulepreload"&&s(e)}).observe(document,{childList:!0,subtree:!0});function y(t){const a={};return t.integrity&&(a.integrity=t.integrity),t.referrerPolicy&&(a.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?a.credentials="include":t.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(t){if(t.ep)return;t.ep=!0;const a=y(t);fetch(t.href,a)}})();var q={apiKey:"AIzaSyA6Cvu465iSSyQGwjKAcFwvG4mmZ877SrY",authDomain:"bandon-dunes-640e8.firebaseapp.com",projectId:"bandon-dunes-640e8",storageBucket:"bandon-dunes-640e8.firebasestorage.app",messagingSenderId:"250064099756",appId:"1:250064099756:web:974a8f1f10f3830ff50209"};const Q=typeof q<"u"?JSON.parse(q):{},F="bandon-dunes-golf-trip";let v,j,R=null;const _=`Date,Time,Course,Player,Player,Player,Player,Caddie?,Notes,,Start time adjusted,Complete Estimate,,Time adjustment,,Course,Estimated play time,,,,,,770,210
2025-08-20,2:15 p.m. ,Shorty's,TBD,TBD,TBD,TBD,,Bill to individuals,,2025-08-20 14:15:00,2025-08-20 16:15:00,,855,,Shorty's,2,,,,,,780,220
2025-08-20,2:40 p.m. ,Bandon Dunes,Cory Higgins,Kevin Newell,Mike Newell,Rob Small,YES,2 Caddies,,2025-08-20 14:40:00,2025-08-20 19:10:00,,880,,Bandon Dunes,4.5,,,,,,790,230
2025-08-20,2:50 p.m. ,Bandon Dunes,Zach Deines,Johnathn Resetar,Ryan Hohn,Jacob Emert,,,,2025-08-20 14:50:00,2025-08-20 19:20:00,,890,,Pacific Dunes,4.5,,,,,,800,240
2025-08-20,3:00 p.m.,Bandon Dunes,Bryan Wolfe,Matt Akers,Paul Parker,Andrew Akers,,,,2025-08-20 15:00:00,2025-08-20 19:30:00,,900,,Bandon Preserve,2,,,,,,810,250
2025-08-20,3:10 p.m. ,Bandon Dunes,Kevan Oyama,Bob Owlett,Nick Zangardi,James Adolfson,,,,2025-08-20 15:10:00,2025-08-20 19:40:00,,910,,Bandon Trails,4.5,,,,,,820,260
2025-08-20,3:20 p.m. ,Bandon Dunes,Vikas Bhasin,Daniel Passino,Charlie Hildebrand,Hisham Sayeedi,,,,2025-08-20 15:20:00,2025-08-20 19:50:00,,920,,Old Macdonald,4.5,,,,,,830,270
2025-08-20,6:45 p.m. ,Shorty's,Brandon Itaoka,Cory Micheel,AD Hoffman,Will Quarles,,Bill to individuals,,2025-08-20 18:45:00,2025-08-20 20:45:00,,1125,,Sheep Ranch,4.5,,,,,,840,280
2025-08-21,7:30 a.m. ,Pacific Dunes,Vikas Bhasin,Charlie Hildebrand,Hisham Sayeedi,Daniel Passino,,,,2025-08-21 07:30:00,2025-08-21 12:00:00,,450,,,,,,,,,850,290
2025-08-21,7:40 a.m. ,Pacific Dunes,Cory Higgins,Matt Akers,Andrew Akers,James Adolfson,,,,2025-08-21 07:40:00,2025-08-21 12:10:00,,460,,,,,,,,,860,300
2025-08-21,7:50 a.m. ,Pacific Dunes,Bob Owlett,Kevin Newell,Mike Newell,Rob Small,,,,2025-08-21 07:50:00,2025-08-21 12:20:00,,470,,,,,,,,,870,310
2025-08-21,8:00 a.m. ,Pacific Dunes,Kevan Oyama,Zach Deines,Nick Zangardi,Johnathn Resetar,,,,2025-08-21 08:00:00,2025-08-21 12:30:00,,480,,,,,,,,,880,320
2025-08-21,8:10 a.m. ,Pacific Dunes,Brandon Itaoka,Ryan Hohn,Paul Parker,Jacob Emert,,,,2025-08-21 08:10:00,2025-08-21 12:40:00,,490,,,,,,,,,890,330
2025-08-21,8:20 a.m. ,Pacific Dunes,AD Hoffman,Bryan Wolfe,Will Quarles,Cory Micheel,,,,2025-08-21 08:20:00,2025-08-21 12:50:00,,500,,,,,,,,,900,340
2025-08-21,1:10 p.m. ,Bandon Dunes,Charlie Hildebrand,Hisham Sayeedi,Daniel Passino,Vikas Bhasin,,REPLAY,,2025-08-21 13:10:00,2025-08-21 17:40:00,,790,,,,,,,,,910,350
2025-08-21,1:20 p.m. ,Bandon Dunes,Kevan Oyama,Cory Higgins,Jacob Emert,Mike Newell,,,,2025-08-21 13:20:00,2025-08-21 17:50:00,,800,,Time until next tee time,,,,,,,920,360
2025-08-21,1:30 p.m. ,Bandon Dunes,Zach Deines,Paul Parker,Johnathn Resetar,James Adolfson,,,,2025-08-21 13:30:00,2025-08-21 18:00:00,,810,,Name Not Found in Morning Group,Name Not Found in Morning Group,Name Not Found in Morning Group,Name Not Found in Morning Group,,,,930,370
2025-08-21,1:40 p.m. ,Bandon Dunes,Cory Micheel,Bob Owlett,Will Quarles,AD Hoffman,,,,2025-08-21 13:40:00,2025-08-21 18:10:00,,820,,1080,1264.9999999953434,1069.9999999988358,1090.0000000011642,,,,940,380
2025-08-21,1:50 p.m. ,Bandon Dunes,Ryan Hohn,Nick Zangardi,Bryan Wolfe,,,,,2025-08-21 13:50:00,2025-08-21 18:20:00,,830,,1090.0000000011642,1080,1090.0000000011642,1274.9999999965075,,,,950,390
2025-08-21,2:15 p.m. ,Bandon Preserve,Matt Akers,Andrew Akers,Kevin Newell,Rob Small,Brandon Itaoka,Bill to individuals,,2025-08-21 14:15:00,2025-08-21 16:15:00,,855,,1080,1110.0000000034925,1080,1080,,,,960,400
2025-08-21,6:00 p.m.,Bandon Preserve,TBD - Likely Replay from main course,,,,,Bill to individuals,,2025-08-21 18:00:00,2025-08-21 20:00:00,,1080,,1100.0000000023283,1110.0000000034925,1090.0000000011642,Name Not Found in Morning Group,,,,970,410
2025-08-22,7:30 a.m. ,Bandon Trails,AD Hoffman,Bryan Wolfe,Bob Owlett,Cory Micheel,,,,2025-08-22 07:30:00,2025-08-22 12:00:00,,450,,1319.9999999965075,1319.9999999965075,1145.0000000023283,1145.0000000023283,,,,980,420
2025-08-22,7:40 a.m. ,Bandon Trails,Cory Higgins,Brandon Itaoka,Ryan Hohn,Paul Parker,,,,2025-08-22 07:40:00,2025-08-22 12:10:00,,460,,Name Not Found in Morning Group,Name Not Found in Morning Group,Name Not Found in Morning Group,Name Not Found in Morning Group,,,,990,430
2025-08-22,7:50 a.m. ,Bandon Trails,Mike Newell,Nick Zangardi,Kevin Newell,Rob Small,,,,2025-08-22 07:50:00,2025-08-22 12:20:00,,470,,,,,,,,,1000,440
2025-08-22,8:00 a.m. ,Bandon Trails,Zach Deines,Johnathn Resetar,James Adolfson,,,,2025-08-22 08:00:00,2025-08-22 12:30:00,,480,,,,,,,,,1010,450
2025-08-22,8:10 a.m. ,Bandon Trails,Vikas Bhasin,Daniel Passino,Hisham Sayeedi,Daniel Passino,,,,2025-08-22 08:10:00,2025-08-22 12:40:00,,490,,,,,,,,,1020,460
2025-08-22,8:20 a.m. ,Bandon Trails,Kevan Oyama,Matt Akers,Andrew Akers,Will Quarles,,,,2025-08-22 08:20:00,2025-08-22 12:50:00,,500,,,,,,,,,1030,470
2025-08-22,1:10 p.m. ,Pacific Dunes,Cory Higgins,Vikas Bhasin,Cory Micheel,Mike Newell,,REPLAY,,2025-08-22 13:10:00,2025-08-22 17:40:00,,790,,,,,,,,,1040,480
2025-08-22,1:20 p.m. ,Pacific Dunes,Bob Owlett,Nick Zangardi,Jacob Emert,Zach Deines,,,,2025-08-22 13:20:00,2025-08-22 17:50:00,,800,,,,,,,,,1050,490
2025-08-22,1:30 p.m. ,Pacific Dunes,James Adolfson,AD Hoffman,Bryan Wolfe,Will Quarles,,,,2025-08-22 13:30:00,2025-08-22 18:00:00,,810,,,,,,,,,1060,500
2025-08-22,1:40 p.m. ,Pacific Dunes,Kevan Oyama,Johnathn Resetar,,,,,,2025-08-22 13:40:00,2025-08-22 18:10:00,,820,,,,,,,,,1070,510
2025-08-22,2:15 p.m. ,Shorty's,Brandon Itaoka,Ryan Hohn,Paul Parker,Charlie Hildebrand,Hisham Sayeedi,Bill to individuals,,2025-08-22 14:15:00,2025-08-22 16:15:00,,855,,,,,,,,,1080,520
2025-08-22,6:30 p.m. ,Shorty's,Daniel Passino,Andrew Akers,Kevin Newell,Rob Small,Matt Akers,Bill to individuals,,2025-08-22 18:30:00,2025-08-22 20:30:00,,1110,,,,,,,,,1090,530
2025-08-23,7:30 a.m. ,Old Macdonald,Kevan Oyama,Mike Newell,Bob Owlett,Nick Zangardi,,,,2025-08-23 07:30:00,2025-08-23 12:00:00,,450,,,,,,,,,1100,540
2025-08-23,7:40 a.m. ,Old Macdonald,Cory Higgins,Brandon Itaoka,Jacob Emert,Zach Deines,,,,2025-08-23 07:40:00,2025-08-23 12:10:00,,460,,,,,,,,,1110,550
2025-08-23,7:50 a.m. ,Old Macdonald,Rob Small,Matt Akers,Andrew Akers,Kevin Newell,,,,2025-08-23 07:50:00,2025-08-23 12:20:00,,470,,,,,,,,,1120,560
2025-08-23,8:00 a.m. ,Old Macdonald,Johnathn Resetar,Ryan Hohn,Paul Parker,James Adolfson,,,,2025-08-23 08:00:00,2025-08-23 12:30:00,,480,,,,,,,,,1130,570
2025-08-23,8:10 a.m. ,Old Macdonald,Vikas Bhasin,Daniel Passino,Hisham Sayeedi,Daniel Passino,,,,2025-08-23 08:10:00,2025-08-23 12:40:00,,490,,,,,,,,,1140,580
2025-08-23,8:20 a.m. ,Old Macdonald,AD Hoffman,Bryan Wolfe,Will Quarles,Cory Micheel,,,,2025-08-23 08:20:00,2025-08-23 12:50:00,,500,,,,,,,,,1150,590
2025-08-23,1:10 p.m. ,Bandon Trails,Kevan Oyama,Ryan Hohn,Nick Zangardi,,,REPLAY,,2025-08-23 13:10:00,2025-08-23 17:40:00,,790,,,,,,,,,1160,600
2025-08-23,1:20 p.m. ,Bandon Trails,James Adolfson,Johnathn Resetar,Brandon Itaoka,,,,,2025-08-23 13:20:00,2025-08-23 17:50:00,,800,,,,,,,,,1170,610
2025-08-23,1:30 p.m. ,Bandon Trails,Cory Micheel,Bob Owlett,Will Quarles,AD Hoffman,,,,2025-08-23 13:30:00,2025-08-23 18:00:00,,810,,,,,,,,,1180,620
2025-08-23,1:10 p.m. ,Sheep Ranch,Cory Higgins,Matt Akers,Andrew Akers,Jacob Emert,,,,2025-08-23 13:10:00,2025-08-23 17:40:00,,790,,,,,,,,,1190,630
2025-08-23,1:20 p.m.,Sheep Ranch,Mike Newell,Zach Deines,Paul Parker,Bryan Wolfe,,,,2025-08-23 13:20:00,2025-08-23 17:50:00,,800,,,,,,,,,1200,640
2025-08-23,2:15 p. Preserve,Kevin Newell,Rob Small,Vikas Bhasin,Charlie Hildebrand,,Bill to individuals,,2025-08-23 14:15:00,2025-08-23 16:15:00,,855,,,,,,,,,1210,650
2025-08-23,6:00 p.m. ,Bandon Preserve,Hisham Sayeedi,Daniel Passino,+ replay from main course,,,Bill to individuals,,2025-08-23 18:00:00,2025-08-23 20:00:00,,1080,,,,,,,,,1220,660
2025-08-24, 7:00 a.m.,Sheep Ranch,Kevan Oyama,AD Hoffman,Kevin Newell,Rob Small,,,,2025-08-24 07:00:00,2025-08-24 11:30:00,,420,,,,,,,,,1230,670
2025-08-24,7:10 a.m. ,Sheep Ranch,Vikas Bhasin,Daniel Passino,Hisham Sayeedi,Charlie Hildebrand,,,,2025-08-24 07:10:00,2025-08-24 11:40:00,,430,,,,,,,,,1240,680
2025-08-24,7:20 a.m.,Sheep Ranch,Cory Higgins,Bob Owlett,Mike Newell,Cory Micheel,,,,2025-08-24 07:20:00,2025-08-24 11:50:00,,440,,,,,,,,,1250,690
2025-08-24,7:30 a.m.,Sheep Ranch,Zach Deines,Johnathn Resetar,Jacob Emert,Brandon Itaoka,,,,2025-08-24 07:30:00,2025-08-24 12:00:00,,450,,,,,,,,,1260,700
2025-08-24,7:40 a.m.,Sheep Ranch,James Adolfson,Ryan Hohn,Nick Zangardi,Paul Parker,,,,2025-02-24 07:40:00,2025-08-24 12:10:00,,460,,,,,,,,,1270,710
,,,,,,,,,,,,,,,,,,,,,,1280,720
,,,,,,,,,,,,,,,,,,,,,,1290,730
,,,,,,,,,,,,,,,,,,,,,,1300,740
,,,,,,,,,,,,,,,,,,,,,,1310,750
,,,,,,,,,,,,,,,,,,,,,,1320,760
,,,,,,,,,,,,,,,,,,,,,,1330,770
,,,,,,,,,,,,,,,,,,,,,,1340,780
,,,,,,,,,,,,,,,,,,,,,,1350,790
,,,,,,,,,,,,,,,,,,,,,,1360,800
,,,,,,,,,,,,,,,,,,,,,,1370,810
,,,,,,,,,,,,,,,,,,,,,,1380,820
,,,,,,,,,,,,,,,,,,,,,,1390,830
,,,,,,,,,,,,,,,,,,,,,,1400,840
,,,,,,,,,,,,,,,,,,,,,,1410,850
,,,,,,,,,,,,,,,,,,,,,,1420,860
,,,,,,,,,,,,,,,,,,,,,,1430,870
,,,,,,,,,,,,,,,,,,,,,,1440,880`,ie=`Timestamp,Email Address,Caddy / Fore caddy selection ... AM course will differ from PM course [Wednesday 8/20 (PM round only)],Caddy / Fore caddy selection ... AM course will differ from PM course [Thursday 8/21 - AM Round],Caddy / Fore caddy selection ... AM course will differ from PM course [Thursday 8/21 - PM Round],Caddy / Fore caddy selection ... AM course will differ from PM course [Friday 8/22 - AM Round],Caddy / Fore caddy selection ... AM course will differ from PM course [Friday 8/22 - PM Round],Caddy / Fore caddy selection ... AM course will differ from PM course [Saturday 8/23 - AM Round],Caddy / Fore caddy selection ... AM course will differ from PM course [Saturday 8/23 - PM Round],Caddy / Fore caddy selection ... AM course will differ from PM course [Sunday 8/24 (AM round only)]
Zach Deines,zachmd@gmail.com,No Caddy,No Caddy,No Caddy,No Caddy,No Caddy,No Caddy,No Caddy,No Caddy
Cory Higgins,cory.higgins@gmail.com,No Caddy,Caddy,No Caddy,No Caddy,Caddy,No Caddy,No Caddy,Caddy
Nick Zangardi,nickzangardi@gmail.com,Caddy,Caddy,No Caddy,Caddy,No Caddy,Caddy,No Caddy,No Caddy
Johnathn Resetar,johnresetar@hotmail.com,No Caddy,No Caddy,No Caddy,No Caddy,No Caddy,No Caddy,No Caddy,No Caddy
Pranav Shah,pranav.s.shah@outlook.com,Fore Caddy,Fore Caddy,Fore Caddy,No Caddy,No Caddy,No Caddy,No Caddy,No Caddy
Mike Newell,mjnewell28@gmail.com,Caddy,Caddy,No Caddy,Caddy,No Caddy,Caddy,No Caddy,Caddy
Jacob Emert,jacob.e.emert@gmail.com,Caddy,Caddy,No Caddy,Caddy,No Caddy,Caddy,No Caddy,Caddy
Ryan Hohn,rhohn67@gmail.com,No Caddy,No Caddy,No Caddy,No Caddy,No Caddy,No Caddy,No Caddy,No Caddy
Bryan Wolfe,bryanwolfe1993@gmail.com,No Caddy,Caddy,Caddy,No Caddy,No Caddy,No Caddy,No Caddy,No Caddy
Vikas Bhasin,vikasopicaso@gmail.com,No Caddy,Caddy,No Caddy,Caddy,No Caddy,Caddy,Caddy,No Caddy
Cory Micheel,cory.micheel@gmail.com,No Caddy,Fore Caddy,No Caddy,Fore Caddy,No Caddy,Fore Caddy,No Caddy,No Caddy
AD Hoffman,adonis.hoffman@gmail.com,No Caddy,Caddy,Fore Caddy,Caddy,Fore Caddy,Caddy,Fore Caddy,Caddy
Bob Owlett,bobowlett@gmail.com,No Caddy,Caddy,Caddy,No Caddy,No Caddy,No Caddy,No Caddy,No Caddy
Paul Parker,Paul.W.Parker8@gmail.com,No Caddy,No Caddy,No Caddy,No Caddy,No Caddy,No Caddy,No Caddy,No Caddy
Kevan Oyama,kevan.oyama@gmail.com,No Caddy,No Caddy,No Caddy,No Caddy,No Caddy,No Caddy,No Caddy,No Caddy
Hisham Sayeedi,hsayeedi@gmail.com,No Caddy,Caddy,No Caddy,Caddy,No Caddy,Caddy,No Caddy,Caddy
Daniel Passino,dpassino@umich.com,Caddy,Caddy,No Caddy,Caddy,No Caddy,Caddy,No Caddy,Caddy
Matt Akers,mjakers1@gmail.com,No Caddy,No Caddy,No Caddy,No Caddy,No Caddy,No Caddy,No Caddy,No Caddy
James Adolfson,jamesadolfson123@gmail.com,No Caddy,No Caddy,No Caddy,No Caddy,No Caddy,No Caddy,No Caddy,No Caddy
Kevin Newell,newellkj@gmail.com,Caddy,Caddy,No Caddy,Caddy,No Caddy,Caddy,No Caddy,Caddy
Rob Small,rob@compaero.com,Caddy,Caddy,No Caddy,Caddy,No Caddy,Caddy,No Caddy,Caddy
Andrew Akers,andrewakers9@gmail.com,No Caddy,No Caddy,No Caddy,No Caddy,No Caddy,No Caddy,No Caddy,No Caddy
Brandon Itaoka,urmessiah57@gmail.com,No Caddy,No Caddy,No Caddy,No Caddy,No Caddy,No Caddy,No Caddy,No Caddy
Charlie Hildebrand,cdhildy@gmail.com,No Caddy,Caddy,No Caddy,Caddy,No Caddy,Caddy,No Caddy,Caddy
`,w={"Mike Newell":1,"Andrew Akers":2,"James Adolfson":3,"Cory Higgins":4,"Kevan Oyama":5,"Bob Owlett":5,"Jacob Emert":6,"Brandon Itaoka":6,"Ryan Hohn":7,"Zach Deines":8,"Rob Small":9,"Nick Zangardi":10,"Vikas Bhasin":11,"Daniel Passino":11,"Hisham Sayeedi":11,"Cory Micheel":11,"AD Hoffman":11,"Bryan Wolfe":12,"Johnathn Resetar":12,"Kevin Newell":13,"Paul Parker":13,"Will Quarles":15,"Charlie Hildebrand":15,"Matt Akers":15},ce={"Kevin Newell":{"Breakfast Buffet":1,"Lunch Box":1},"Ryan Hohn":{"Breakfast Buffet":1,"Lunch Box":1},"Johnathn Resetar":{"Breakfast Buffet":1,"Lunch Box":1},"Charlie Hildebrand":{"Breakfast Buffet":1,"Lunch Box":1},"Rob Small":{"Breakfast Buffet":1,"Lunch Box":1},"Mike Newell":{"Breakfast Buffet":0,"Lunch Box":1},"Cory Higgins":{"Breakfast Buffet":0,"Lunch Box":1},"Zach Deines":{"Breakfast Buffet":0,"Lunch Box":1},"Vikas Bhasin":{"Breakfast Buffet":0,"Lunch Box":1},"Jacob Emert":{"Breakfast Buffet":0,"Lunch Box":1},"Brandon Itaoka":{"Breakfast Buffet":0,"Lunch Box":1},"Nick Zangardi":{"Breakfast Buffet":0,"Lunch Box":1},"Andrew Akers":{"Breakfast Buffet":0,"Lunch Box":1},"Hisham Sayeedi":{"Breakfast Buffet":0,"Lunch Box":1},"Daniel Passino":{"Breakfast Buffet":0,"Lunch Box":0},"Matt Akers":{"Breakfast Buffet":0,"Lunch Box":0},"Bryan Wolfe":{"Breakfast Buffet":0,"Lunch Box":0},"Bob Owlett":{"Breakfast Buffet":0,"Lunch Box":0},"Kevan Oyama":{"Breakfast Buffet":0,"Lunch Box":0},"Cory Micheel":{"Breakfast Buffet":0,"Lunch Box":0},"AD Hoffman":{"Breakfast Buffet":0,"Lunch Box":0},"Paul Parker":{"Breakfast Buffet":0,"Lunch Box":0},"James Adolfson":{"Breakfast Buffet":0,"Lunch Box":0},"Will Quarles":{"Breakfast Buffet":0,"Lunch Box":0}},M={};function z(l){const i=l.split(`
`).filter(d=>d.trim()!=="");if(i.length<2)return[];const y=[],s=0,t=1,a=2,e=[3,4,5,6],o=11;for(let d=1;d<i.length;d++){const n=i[d].split(",");if(n.length<=Math.max(...e,o))continue;const r={};r.Date=n[s]?n[s].trim():"",r.Time=n[t]?n[t].trim():"",r.Course=n[a]?n[a].trim():"",r.CompleteEstimate=n[o]?n[o].trim():"",r.Player1=n[e[0]]?n[e[0]].trim():"",r.Player2=n[e[1]]?n[e[1]].trim():"",r.Player3=n[e[2]]?n[e[2]].trim():"",r.Player4=n[e[3]]?n[e[3]].trim():"",r.Date&&r.Time&&r.Course&&(r.Player1||r.Player2||r.Player3||r.Player4)&&y.push(r)}return y}function le(l){const i=l.split(`
`).filter(e=>e.trim()!=="");if(i.length<2)return;const y=i[0].split(",").map(e=>e.trim()),s=0,t=[],a={};y.forEach((e,o)=>{if(e.includes("Caddy / Fore caddy selection")){const d=e.match(/\[.*? (\d{1,2}\/\d{1,2})(?: - (AM|PM) Round)?(?: \((AM|PM) round only\))?\]/);if(d){const n=d[1];let r="";e.includes("(PM round only)")?r="PM":e.includes("(AM round only)")?r="AM":d[2]&&(r=d[2]);const[u,c]=n.split("/"),m=`2025-${u.padStart(2,"0")}-${c.padStart(2,"0")}`;r&&(t.push(o),a[o]={date:m,roundType:r})}}});for(let e=1;e<i.length;e++){const o=i[e].split(","),d=o[s]?o[s].trim():"";d&&(M[d]={},t.forEach(n=>{const r=o[n]?o[n].trim():"No Caddy",{date:u,roundType:c}=a[n];M[d][u]||(M[d][u]={}),M[d][u][c]=r}))}}function Y(l){const i=document.getElementById("player-select");i&&(i.innerHTML="",[...l].sort().forEach(s=>{const t=document.createElement("option");t.value=s,t.textContent=s,i.appendChild(t)}))}function D(l){const i=document.getElementById("notes-table-body");i.innerHTML="",["Welcome dinner at Trail's End 8:30 p.m.","$10 of your $50 will go towards Long-drive and Two (2) closest to the pin contests for the group. Pay out of $80 per LD / Closest to the Pin.","There will be six (6), four (4) man teams. $240 payout per person on the winning team ($960 pot divided by 4).","Gimmies are okay but don't swipe a 5 foot putt and call it yourself, let the group decide."].forEach(t=>{const a=document.createElement("tr"),e=document.createElement("td");e.className="border px-4 py-2",e.textContent=t,a.appendChild(e),i.appendChild(a)});const s=ce[l];if(s){const t=s["Breakfast Buffet"]===1?"Yes":"No",a=s["Lunch Box"]===1?"Yes":"No";let e=document.createElement("tr"),o=document.createElement("td");o.className="border px-4 py-2",o.textContent=`Breakfast: ${t}`,e.appendChild(o),i.appendChild(e);let d=document.createElement("tr"),n=document.createElement("td");n.className="border px-4 py-2",n.textContent=`Lunch: ${a}`,d.appendChild(n),i.appendChild(d)}else{let t=document.createElement("tr"),a=document.createElement("td");a.className="border px-4 py-2",a.textContent="Breakfast: N/A",t.appendChild(a),i.appendChild(t);let e=document.createElement("tr"),o=document.createElement("td");o.className="border px-4 py-2",o.textContent="Lunch: N/A",e.appendChild(o),i.appendChild(e)}}function S(l){const i=document.getElementById("tee-time-pairings-body"),y=document.getElementById("current-player-tee-times-title"),s=document.getElementById("main-trip-summary-title"),t=document.querySelector("#stableford-table tbody"),a=z(_),e="Bandon Dunes Golf Trip Summary";s.textContent=`${l} - ${e}`,y.textContent=`${l}'s Tee Time Pairings`,i.innerHTML="";const o=t.querySelector(".player-handicap-row");o&&o.remove();const d=t.querySelector(".spacing-row");d&&d.remove();const n=document.createElement("tr");n.className="spacing-row",n.innerHTML='<td colspan="4"></td>',t.appendChild(n);const r=w[l];if(r!==void 0){const c=document.createElement("tr");c.className="player-handicap-row";const m=document.createElement("td");m.className="border px-4 py-2 font-semibold",m.textContent=`${l}'s Handicap`,c.appendChild(m);const p=document.createElement("td");p.className="border px-4 py-2 bg-white",p.textContent=r,c.appendChild(p);const f=document.createElement("td");f.className="border px-4 py-2 bg-white",f.colSpan=2,c.appendChild(f),t.appendChild(c)}let u=a.filter(c=>c.Player1===l||c.Player2===l||c.Player3===l||c.Player4===l);u.sort((c,m)=>{const p=new Date(c.Date+" "+c.Time.replace("a.m.","AM").replace("p.m.","PM")),f=new Date(m.Date+" "+m.Time.replace("a.m.","AM").replace("p.m.","PM"));return p-f}),u.forEach(c=>{const m=document.createElement("tr"),p=document.createElement("td");p.className="px-4 py-2";const f=c.Date.split("-"),k=parseInt(f[0]),b=parseInt(f[1])-1,x=parseInt(f[2]),L=new Date(k,b,x),I={weekday:"short",month:"numeric",day:"numeric"};p.textContent=L.toLocaleDateString("en-US",I).replace(","," -"),m.appendChild(p);const A=document.createElement("td");A.className="px-4 py-2",A.textContent=c.Time,m.appendChild(A);const N=document.createElement("td");N.className="px-4 py-2";const C=c.CompleteEstimate;if(C){let H=C.includes(" ")?C.split(" ")[1]:C,[g,P]=H.split(":").map(Number),O=g>=12?"p.m.":"a.m.";g=g%12,g=g||12;const X=P<10?"0"+P:P;N.textContent=`${g}:${X} ${O}`}else N.textContent="N/A";m.appendChild(N);const h=document.createElement("td");h.className="px-4 py-2",h.textContent=c.Course,m.appendChild(h),parseInt(c.Time.split(":")[0]);let B=c.Time.toLowerCase().includes("p.m.")?"PM":"AM";c.Time.toLowerCase().startsWith("12")&&c.Time.toLowerCase().includes("a.m.")?B="AM":c.Time.toLowerCase().startsWith("12")&&c.Time.toLowerCase().includes("p.m.")&&(B="PM");const E=M[l]&&M[l][c.Date]&&M[l][c.Date][B]?M[l][c.Date][B]:"N/A",J=document.createElement("td");J.className="px-4 py-2",J.textContent=E,m.appendChild(J);const K=[];for(let H=1;H<=4;H++){const g=`Player${H}`,P=c[g];if(P&&P!==l){const O=w[P];O!==void 0?K.push(`${P} (${O})`):K.push(P)}}const W=document.createElement("td");W.className="px-4 py-2",W.textContent=K.join(", "),m.appendChild(W),i.appendChild(m)})}function T(l){const i=document.getElementById("daily-pairings-body");i.innerHTML="";const y=z(_);y.sort((t,a)=>{const e=new Date(t.Date+" "+t.Time.replace("a.m.","AM").replace("p.m.","PM")),o=new Date(a.Date+" "+a.Time.replace("a.m.","AM").replace("p.m.","PM"));return e-o});const s={};y.forEach(t=>{const a=t.Date;s[a]||(s[a]=[]),s[a].push(t)}),Object.keys(s).sort().forEach(t=>{const a=s[t];a.forEach((e,o)=>{const d=document.createElement("tr");o===a.length-1&&d.classList.add("last-tee-time-of-day");const n=document.createElement("td");n.className="px-4 py-2";const r=e.Date.split("-"),u=parseInt(r[0]),c=parseInt(r[1])-1,m=parseInt(r[2]),p=new Date(u,c,m),f={weekday:"short",month:"numeric",day:"numeric"};n.textContent=p.toLocaleDateString("en-US",f).replace(","," -"),d.appendChild(n);const k=document.createElement("td");k.className="px-4 py-2",k.textContent=e.Time,d.appendChild(k);const b=document.createElement("td");b.className="px-4 py-2";const x=e.CompleteEstimate;if(x){let N=x.includes(" ")?x.split(" ")[1]:x,[C,h]=N.split(":").map(Number),B=C>=12?"p.m.":"a.m.";C=C%12,C=C||12;const E=h<10?"0"+h:h;b.textContent=`${C}:${E} ${B}`}else b.textContent="N/A";d.appendChild(b);const L=document.createElement("td");L.className="px-4 py-2",L.textContent=e.Course,d.appendChild(L);const I=[];for(let N=1;N<=4;N++){const C=`Player${N}`,h=e[C];if(h){const B=w[h];let E=B!==void 0?`${h} (${B})`:h;h===l&&(E=`<span class="highlight-player">${E}</span>`),I.push(E)}}const A=document.createElement("td");A.className="px-4 py-2",A.innerHTML=I.join(", "),d.appendChild(A),i.appendChild(d)})})}async function U(){const l=document.getElementById("all-players-scores-body");if(l.innerHTML="",!v){console.warn("Firestore not initialized. Cannot load all players' scores.");return}const i={},y=["2025-08-21-AM","2025-08-22-AM","2025-08-23-AM","2025-08-24-AM"];try{const t=G(v,`artifacts/${F}/users`),a=re(t);(await V(a)).forEach(o=>{const d=o.id,n=G(v,`artifacts/${F}/users/${d}/scores`);V(n).then(r=>{r.forEach(u=>{const c=u.id,m=u.data();let p=0;i[c]={"8-21-AM":m["8-21-AM"]||"-","8-22-AM":m["8-22-AM"]||"-","8-23-AM":m["8-23-AM"]||"-","8-24-AM":m["8-24-AM"]||"-",total:0},y.forEach(f=>{const k=m[f.replace("2025-","")];typeof k=="number"&&(p+=k)}),i[c].total=p}),s()}).catch(r=>{console.error(`Error fetching scores for user ${d}:`,r)})}),s()}catch(t){console.error("Error loading all players' scores:",t),l.innerHTML=`<tr><td colspan="6" class="px-4 py-2 text-red-500">Error loading scores: ${t.message}. Please check Firebase rules and console.</td></tr>`}function s(){l.innerHTML="",Object.entries(i).map(([a,e])=>({name:a,...e})).sort((a,e)=>e.total-a.total).forEach(a=>{const e=document.createElement("tr"),o=document.createElement("td");o.className="border px-4 py-2",o.textContent=a.name,e.appendChild(o);const d=document.createElement("td");d.className="border px-4 py-2",d.textContent=a["8-21-AM"],e.appendChild(d);const n=document.createElement("td");n.className="border px-4 py-2",n.textContent=a["8-22-AM"],e.appendChild(n);const r=document.createElement("td");r.className="border px-4 py-2",r.textContent=a["8-23-AM"],e.appendChild(r);const u=document.createElement("td");u.className="border px-4 py-2",u.textContent=a["8-24-AM"],e.appendChild(u);const c=document.createElement("td");c.className="border px-4 py-2 font-semibold",c.textContent=a.total,e.appendChild(c),l.appendChild(e)})}}function $(l){document.querySelectorAll(".tab-content").forEach(y=>{y.classList.remove("active")}),document.querySelectorAll(".tab-button").forEach(y=>{y.classList.remove("active")}),document.getElementById(`content-${l}`).classList.add("active"),document.getElementById(`tab-${l}`).classList.add("active");const i=document.getElementById("player-select").value;l==="caddy"?me(i):l==="scores"&&U()}function me(l){const i=document.getElementById("caddy-summary-body"),y=document.getElementById("caddy-summary-header-row");i.innerHTML="",y.innerHTML='<th class="px-4 py-2">Player</th>';const s=M,t=new Set;Object.values(s).forEach(e=>{Object.keys(e).forEach(o=>{Object.keys(e[o]).forEach(d=>{t.add(`${o}-${d}`)})})});const a=Array.from(t).sort((e,o)=>{const[d,n]=e.split("-"),[r,u]=o.split("-"),c=new Date(d),m=new Date(r);return c.getTime()!==m.getTime()?c-m:n.localeCompare(u)});a.forEach(e=>{const[o,d]=e.split("-"),n=o.split("-"),r=parseInt(n[1]),u=parseInt(n[2]),c=`${r}/${u} ${d}`,m=document.createElement("th");m.className="px-4 py-2",m.textContent=c,y.appendChild(m)}),Object.keys(w).sort().forEach(e=>{const o=document.createElement("tr");e===l&&o.classList.add("caddy-player-highlight");const d=document.createElement("td");d.className="border px-4 py-2 font-semibold",d.textContent=e,o.appendChild(d),a.forEach(n=>{const[r,u]=n.split("-"),c=s[e]&&s[e][r]&&s[e][r][u]?s[e][r][u]:"-",m=document.createElement("td");m.className="border px-4 py-2",m.textContent=c,o.appendChild(m)}),i.appendChild(o)})}window.onload=()=>{if(Q.apiKey){const s=ee(Q);v=ne(s),j=ae(s),te(j,async t=>{if(t){R=t.uid,le(ie);const a=Object.keys(w);Y(a);const e=document.getElementById("player-select");if(e){e.addEventListener("change",d=>{const n=d.target.value;S(n),D(n),T(n),y(n)});const o="Cory Higgins";a.includes(o)?(e.value=o,S(o),D(o),T(o),y(o)):a.length>0&&(e.value=a[0],S(a[0]),D(a[0]),T(a[0]),y(a[0]))}}else console.warn("User not authenticated. Attempting anonymous sign-in."),await oe(j)})}else{console.error("Firebase config is missing. Cannot initialize Firebase.");const s=Object.keys(w);Y(s);const t=document.getElementById("player-select");if(t){t.addEventListener("change",e=>{const o=e.target.value;S(o),D(o),T(o)});const a="Cory Higgins";s.includes(a)?(t.value=a,S(a),D(a),T(a)):s.length>0&&(t.value=s[0],S(s[0]),D(s[0]),T(s[0]))}}document.getElementById("tab-summary").addEventListener("click",()=>$("summary")),document.getElementById("tab-caddy").addEventListener("click",()=>$("caddy")),document.getElementById("tab-scores").addEventListener("click",()=>$("scores")),$("summary");const l=document.getElementById("save-scores-btn"),i=document.getElementById("save-status-message");l.addEventListener("click",async()=>{if(!R){i.textContent="Please wait for authentication to complete.";return}const s=document.getElementById("player-select").value;if(!s){i.textContent="Please select a player first.";return}const t={};if(["score-2025-08-21-AM","score-2025-08-22-AM","score-2025-08-23-AM","score-2025-08-24-AM"].forEach(e=>{const o=document.getElementById(e);o&&o.value!==""&&(t[e.replace("score-","")]=parseInt(o.value))}),Object.keys(t).length===0){i.textContent="No scores to save.";return}i.textContent="Saving scores...";try{const e=Z(v,`artifacts/${F}/users/${R}/scores`,s);await de(e,t,{merge:!0}),i.textContent="Scores saved successfully!",U()}catch(e){console.error("Error saving scores:",e),i.textContent=`Error saving scores: ${e.message}`}});async function y(s){if(!R)return;const t=["score-2025-08-21-AM","score-2025-08-22-AM","score-2025-08-23-AM","score-2025-08-24-AM"];t.forEach(a=>{const e=document.getElementById(a);e&&(e.value="")});try{const a=Z(v,`artifacts/${F}/users/${R}/scores`,s),e=await se(a);if(e.exists()){const o=e.data();t.forEach(d=>{const n=d.replace("score-",""),r=document.getElementById(d);r&&o[n]!==void 0&&(r.value=o[n])}),i.textContent=`Scores loaded for ${s}.`}else i.textContent=`No saved scores found for ${s}.`}catch(a){console.error("Error loading scores:",a),i.textContent=`Error loading scores: ${a.message}`}}};
